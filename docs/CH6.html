<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Formatting Data | _main.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Formatting Data | _main.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Formatting Data | _main.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="CH5.html"/>
<link rel="next" href="simple-regression.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i>Resources</a></li>
<li class="part"><span><b>I R Basics</b></span></li>
<li class="chapter" data-level="1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i><b>1</b> Getting Started with R</a><ul>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#what-is-r"><i class="fa fa-check"></i>What is R?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-r"><i class="fa fa-check"></i>Installing R</a><ul>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-1"><i class="fa fa-check"></i>Step 1</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-2"><i class="fa fa-check"></i>Step 2</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-3"><i class="fa fa-check"></i>Step 3</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-4-mac-users"><i class="fa fa-check"></i>Step 4: Mac users</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-4-windows-users"><i class="fa fa-check"></i>Step 4: Windows users</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#what-is-rstudio"><i class="fa fa-check"></i>What is RStudio?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-rstudio"><i class="fa fa-check"></i>Installing RStudio</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#opening-r-or-rstudio"><i class="fa fa-check"></i>Opening R or RStudio</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#the-rstudio-layout"><i class="fa fa-check"></i>The RStudio Layout</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#following-along"><i class="fa fa-check"></i>Following Along</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#opening-a-script"><i class="fa fa-check"></i>Opening a Script</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#saving-a-script"><i class="fa fa-check"></i>Saving a Script</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="CH2.html"><a href="CH2.html"><i class="fa fa-check"></i><b>2</b> Programming 101</a><ul>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#running-r-code"><i class="fa fa-check"></i>Running R Code</a></li>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#r-is-a-calculator"><i class="fa fa-check"></i>R is a calculator</a></li>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#objects-and-assignment"><i class="fa fa-check"></i>Objects and Assignment</a></li>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#variable-types"><i class="fa fa-check"></i>Variable Types</a></li>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#data-types"><i class="fa fa-check"></i>Data Types</a></li>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#dollar-signs-and-brackets"><i class="fa fa-check"></i>Dollar Signs and Brackets</a></li>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#functions-and-arguments"><i class="fa fa-check"></i>Functions and Arguments</a><ul>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#example"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="CH2.html"><a href="CH2.html#code-formatting"><i class="fa fa-check"></i>Code Formatting</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html"><i class="fa fa-check"></i><b>3</b> Packages and Libraries</a><ul>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#what-are-packages"><i class="fa fa-check"></i>What are Packages?</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#installing-packages"><i class="fa fa-check"></i>Installing Packages</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#whats-a-library"><i class="fa fa-check"></i>What’s a Library?</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#loading-packages"><i class="fa fa-check"></i>Loading Packages</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="CH4.html"><a href="CH4.html"><i class="fa fa-check"></i><b>4</b> Reading and Writing Data</a><ul>
<li class="chapter" data-level="" data-path="CH4.html"><a href="CH4.html#setting-the-working-directory"><i class="fa fa-check"></i>Setting the Working Directory</a></li>
<li class="chapter" data-level="" data-path="CH4.html"><a href="CH4.html#reading-data"><i class="fa fa-check"></i>Reading Data</a></li>
<li class="chapter" data-level="" data-path="CH4.html"><a href="CH4.html#writing-data"><i class="fa fa-check"></i>Writing Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="CH5.html"><a href="CH5.html"><i class="fa fa-check"></i><b>5</b> Describing and Visualizing Data</a><ul>
<li class="chapter" data-level="" data-path="CH5.html"><a href="CH5.html#viewing-data"><i class="fa fa-check"></i>Viewing Data</a></li>
<li class="chapter" data-level="" data-path="CH5.html"><a href="CH5.html#data-summaries"><i class="fa fa-check"></i>Data Summaries</a><ul>
<li class="chapter" data-level="" data-path="CH5.html"><a href="CH5.html#missing-data"><i class="fa fa-check"></i>Missing Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="CH5.html"><a href="CH5.html#visualizing-data"><i class="fa fa-check"></i>Visualizing Data</a><ul>
<li class="chapter" data-level="" data-path="CH5.html"><a href="CH5.html#histogram"><i class="fa fa-check"></i>Histogram</a></li>
<li class="chapter" data-level="" data-path="CH5.html"><a href="CH5.html#scatterplot"><i class="fa fa-check"></i>Scatterplot</a></li>
<li class="chapter" data-level="" data-path="CH5.html"><a href="CH5.html#barplot"><i class="fa fa-check"></i>Barplot</a></li>
<li class="chapter" data-level="" data-path="CH5.html"><a href="CH5.html#boxplot"><i class="fa fa-check"></i>Boxplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="CH6.html"><a href="CH6.html"><i class="fa fa-check"></i><b>6</b> Formatting Data</a><ul>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#merging-files"><i class="fa fa-check"></i>Merging Files</a></li>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#long-format"><i class="fa fa-check"></i>Long Format</a></li>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#wide-format"><i class="fa fa-check"></i>Wide Format</a></li>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#recoding-variables"><i class="fa fa-check"></i>Recoding Variables</a></li>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#changing-variable-types"><i class="fa fa-check"></i>Changing Variable Types</a></li>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#rename-columns"><i class="fa fa-check"></i>Rename Columns</a></li>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#change-column-order"><i class="fa fa-check"></i>Change Column Order</a></li>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#data-manipulation"><i class="fa fa-check"></i>Data Manipulation</a><ul>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#good-option"><i class="fa fa-check"></i>Good Option</a></li>
<li class="chapter" data-level="" data-path="CH6.html"><a href="CH6.html#better-option"><i class="fa fa-check"></i>Better Option</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Statistical Analysis</b></span></li>
<li class="chapter" data-level="7" data-path="simple-regression.html"><a href="simple-regression.html"><i class="fa fa-check"></i><b>7</b> Simple Regression</a><ul>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#importing"><i class="fa fa-check"></i>Importing</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#viewing"><i class="fa fa-check"></i>Viewing</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#formatting"><i class="fa fa-check"></i>Formatting</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#modeling"><i class="fa fa-check"></i>Modeling</a><ul>
<li><a href="simple-regression.html#the-lm-function">The <code>lm()</code> Function</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#untransformed-model"><i class="fa fa-check"></i>Untransformed Model</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#mean-centered-model"><i class="fa fa-check"></i>Mean-Centered Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="multiple-regression.html"><a href="multiple-regression.html"><i class="fa fa-check"></i><b>8</b> Multiple Regression</a><ul>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#importing-1"><i class="fa fa-check"></i>Importing</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#viewing-1"><i class="fa fa-check"></i>Viewing</a><ul>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#data-for-unmoderated-model"><i class="fa fa-check"></i>Data for Unmoderated Model</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#data-for-moderated-and-nonlinear-models"><i class="fa fa-check"></i>Data for Moderated and Nonlinear Models</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#formatting-1"><i class="fa fa-check"></i>Formatting</a><ul>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#data-for-moderated-and-nonlinear-models-1"><i class="fa fa-check"></i>Data for Moderated and Nonlinear Models</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#modeling-1"><i class="fa fa-check"></i>Modeling</a><ul>
<li><a href="multiple-regression.html#the-lm-function-1">The <code>lm()</code> Function</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#unmoderated-model"><i class="fa fa-check"></i>Unmoderated Model</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#moderated-model"><i class="fa fa-check"></i>Moderated Model</a></li>
<li class="chapter" data-level="" data-path="multiple-regression.html"><a href="multiple-regression.html#nonlinear-model"><i class="fa fa-check"></i>Nonlinear Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html"><i class="fa fa-check"></i><b>9</b> One and Two Sample t-test</a><ul>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#importing-2"><i class="fa fa-check"></i>Importing</a></li>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#viewing-2"><i class="fa fa-check"></i>Viewing</a><ul>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#data-for-two-sample-independent"><i class="fa fa-check"></i>Data for Two Sample Independent</a></li>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#data-for-two-sample-dependent"><i class="fa fa-check"></i>Data for Two Sample Dependent</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#formatting-2"><i class="fa fa-check"></i>Formatting</a><ul>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#data-for-two-sample-independent-1"><i class="fa fa-check"></i>Data for Two Sample Independent</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#modeling-2"><i class="fa fa-check"></i>Modeling</a><ul>
<li><a href="one-and-two-sample-t-test.html#the-t.testfunction">The <code>t.test()</code>Function</a></li>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#one-sample"><i class="fa fa-check"></i>One Sample</a></li>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#two-sample-independent-unpaired"><i class="fa fa-check"></i>Two Sample: Independent / Unpaired</a></li>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#two-sample-dependent-paired"><i class="fa fa-check"></i>Two Sample: Dependent / Paired</a></li>
<li class="chapter" data-level="" data-path="one-and-two-sample-t-test.html"><a href="one-and-two-sample-t-test.html#optional-arguments"><i class="fa fa-check"></i>Optional Arguments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="one-way-anova.html"><a href="one-way-anova.html"><i class="fa fa-check"></i><b>10</b> One-Way ANOVA</a><ul>
<li class="chapter" data-level="" data-path="one-way-anova.html"><a href="one-way-anova.html#importing-3"><i class="fa fa-check"></i>Importing</a></li>
<li class="chapter" data-level="" data-path="one-way-anova.html"><a href="one-way-anova.html#viewing-3"><i class="fa fa-check"></i>Viewing</a></li>
<li class="chapter" data-level="" data-path="one-way-anova.html"><a href="one-way-anova.html#formatting-3"><i class="fa fa-check"></i>Formatting</a></li>
<li class="chapter" data-level="" data-path="one-way-anova.html"><a href="one-way-anova.html#modeling-3"><i class="fa fa-check"></i>Modeling</a><ul>
<li><a href="one-way-anova.html#the-ezanovafunction">The <code>ezANOVA()</code>Function</a></li>
<li><a href="one-way-anova.html#the-lm-function-2">The <code>lm()</code> Function</a></li>
<li class="chapter" data-level="" data-path="one-way-anova.html"><a href="one-way-anova.html#model-with-dummy-codes"><i class="fa fa-check"></i>Model with Dummy Codes</a></li>
<li class="chapter" data-level="" data-path="one-way-anova.html"><a href="one-way-anova.html#model-with-contrast-codes"><i class="fa fa-check"></i>Model with Contrast Codes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="repeated-measures-anova.html"><a href="repeated-measures-anova.html"><i class="fa fa-check"></i><b>11</b> Repeated Measures ANOVA</a><ul>
<li class="chapter" data-level="" data-path="repeated-measures-anova.html"><a href="repeated-measures-anova.html#importing-4"><i class="fa fa-check"></i>Importing</a></li>
<li class="chapter" data-level="" data-path="repeated-measures-anova.html"><a href="repeated-measures-anova.html#viewing-4"><i class="fa fa-check"></i>Viewing</a></li>
<li class="chapter" data-level="" data-path="repeated-measures-anova.html"><a href="repeated-measures-anova.html#formatting-4"><i class="fa fa-check"></i>Formatting</a></li>
<li class="chapter" data-level="" data-path="repeated-measures-anova.html"><a href="repeated-measures-anova.html#modeling-4"><i class="fa fa-check"></i>Modeling</a><ul>
<li><a href="repeated-measures-anova.html#the-ezanovafunction-1">The <code>ezANOVA()</code>Function</a></li>
<li class="chapter" data-level="" data-path="repeated-measures-anova.html"><a href="repeated-measures-anova.html#model"><i class="fa fa-check"></i>Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="mixed-factorial-anova.html"><a href="mixed-factorial-anova.html"><i class="fa fa-check"></i><b>12</b> Mixed-Factorial ANOVA</a><ul>
<li class="chapter" data-level="" data-path="mixed-factorial-anova.html"><a href="mixed-factorial-anova.html#importing-5"><i class="fa fa-check"></i>Importing</a></li>
<li class="chapter" data-level="" data-path="mixed-factorial-anova.html"><a href="mixed-factorial-anova.html#viewing-5"><i class="fa fa-check"></i>Viewing</a></li>
<li class="chapter" data-level="" data-path="mixed-factorial-anova.html"><a href="mixed-factorial-anova.html#formatting-5"><i class="fa fa-check"></i>Formatting</a></li>
<li class="chapter" data-level="" data-path="mixed-factorial-anova.html"><a href="mixed-factorial-anova.html#modeling-5"><i class="fa fa-check"></i>Modeling</a><ul>
<li><a href="mixed-factorial-anova.html#the-ezanovafunction-2">The <code>ezANOVA()</code>Function</a></li>
<li class="chapter" data-level="" data-path="mixed-factorial-anova.html"><a href="mixed-factorial-anova.html#model-1"><i class="fa fa-check"></i>Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="analysis-of-covariance-ancova.html"><a href="analysis-of-covariance-ancova.html"><i class="fa fa-check"></i><b>13</b> Analysis of Covariance (ANCOVA)</a><ul>
<li class="chapter" data-level="" data-path="analysis-of-covariance-ancova.html"><a href="analysis-of-covariance-ancova.html#importing-6"><i class="fa fa-check"></i>Importing</a></li>
<li class="chapter" data-level="" data-path="analysis-of-covariance-ancova.html"><a href="analysis-of-covariance-ancova.html#viewing-6"><i class="fa fa-check"></i>Viewing</a></li>
<li class="chapter" data-level="" data-path="analysis-of-covariance-ancova.html"><a href="analysis-of-covariance-ancova.html#modeling-6"><i class="fa fa-check"></i>Modeling</a><ul>
<li><a href="analysis-of-covariance-ancova.html#the-aovfunction">The <code>aov()</code>Function</a></li>
<li class="chapter" data-level="" data-path="analysis-of-covariance-ancova.html"><a href="analysis-of-covariance-ancova.html#model-2"><i class="fa fa-check"></i>Model</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="CH6" class="section level1">
<h1><span class="header-section-number">6</span> Formatting Data</h1>
<blockquote>
<p>This chapter will cover: merging data files, long and wide format, recoding varibles, changing variable types, column renaming and arrangement, and data manipulation. The intention is to briefly cover some of the most common tasks that are performed in R. There are many resources that cover these topics and more in much greater depth (and with better explanation), such as Roger D. Peng’s <a href="https://bookdown.org/rdpeng/rprogdatascience/">R Programming for Data Science</a> and <a href="https://r4ds.had.co.nz/">R for Data Science</a> by Garrett Grolemund and Hadley Wickham.</p>
</blockquote>
<blockquote>
<p>The code in this chapter only works if you’re following along with the Github folder for this book (which you can download <a href="https://github.com/JasonDude16/Statistical-Analysis-Folder">here</a>), correctly set your working directory to the data folder (which you can learn how to do in <a href="CH4.html#CH4">Chapter 4</a>), and run the code in the order it appears in this chapter.</p>
</blockquote>
<div id="merging-files" class="section level2 unnumbered">
<h2>Merging Files</h2>
<p>Sometimes you might want to import multiple files and combine them into one dataset. This can be accomplished with the <code>cbind()</code> and <code>rbind()</code> functions, which are short for column bind and row bind. Let’s say you have three files that have the same column names and you want to combine them.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="CH6.html#cb92-1"></a>data1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_1.csv&quot;</span>)</span>
<span id="cb92-2"><a href="CH6.html#cb92-2"></a><span class="kw">dim</span>(data1)</span>
<span id="cb92-3"><a href="CH6.html#cb92-3"></a></span>
<span id="cb92-4"><a href="CH6.html#cb92-4"></a>data2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_2.csv&quot;</span>)</span>
<span id="cb92-5"><a href="CH6.html#cb92-5"></a><span class="kw">dim</span>(data2)</span>
<span id="cb92-6"><a href="CH6.html#cb92-6"></a></span>
<span id="cb92-7"><a href="CH6.html#cb92-7"></a>data3 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_3.csv&quot;</span>)</span>
<span id="cb92-8"><a href="CH6.html#cb92-8"></a><span class="kw">dim</span>(data3)</span>
<span id="cb92-9"><a href="CH6.html#cb92-9"></a></span>
<span id="cb92-10"><a href="CH6.html#cb92-10"></a>newData &lt;-<span class="st"> </span><span class="kw">rbind</span>(data1, data2, data3)</span>
<span id="cb92-11"><a href="CH6.html#cb92-11"></a><span class="kw">dim</span>(newData)</span></code></pre></div>
<pre><code>[1] 20  2
[1] 20  2
[1] 20  2
[1] 60  2</code></pre>
<p>As you can see the last printout shows the dimensions are 60 rows by 2 columns, which means the three data frames were successfully combined.</p>
<p>Let’s say you have two files with <em>different</em> column names and want to combine them side-by-side. For example, you might have a data file that contains <code>subID</code>, <code>age</code> and <code>sex</code>, and another file contains <code>height</code> and <code>weight</code> data. These columns can be added into one dataset with the <code>cbind()</code> function.</p>
<p><code>subID</code>, <code>age</code>, and <code>sex</code> dataset:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="CH6.html#cb94-1"></a>data1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;SubID_Age_Sex.csv&quot;</span>)</span>
<span id="cb94-2"><a href="CH6.html#cb94-2"></a><span class="kw">head</span>(data1)</span></code></pre></div>
<pre><code>  subID      age sex
1     1 30.68838   F
2     2 28.33384   M
3     3 33.65584   M
4     4 35.51969   M
5     5 32.43415   M
6     6 28.14712   F</code></pre>
<p><code>height</code> and <code>weight</code> dataset:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="CH6.html#cb96-1"></a>data2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_1.csv&quot;</span>)</span>
<span id="cb96-2"><a href="CH6.html#cb96-2"></a><span class="kw">head</span>(data2)</span></code></pre></div>
<pre><code>    height   weight
1 68.51668 154.6818
2 65.31865 173.9590
3 62.07894 138.2117
4 64.84917 165.0201
5 70.13895 148.6306
6 67.31371 196.6275</code></pre>
<p>Combind with the <code>cbind()</code> function:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="CH6.html#cb98-1"></a>newData &lt;-<span class="st"> </span><span class="kw">cbind</span>(data1, data2)</span>
<span id="cb98-2"><a href="CH6.html#cb98-2"></a><span class="kw">head</span>(newData)</span></code></pre></div>
<pre><code>  subID      age sex   height   weight
1     1 30.68838   F 68.51668 154.6818
2     2 28.33384   M 65.31865 173.9590
3     3 33.65584   M 62.07894 138.2117
4     4 35.51969   M 64.84917 165.0201
5     5 32.43415   M 70.13895 148.6306
6     6 28.14712   F 67.31371 196.6275</code></pre>
<p>It is important to note that the <code>rbind()</code> function is only useful when binding two datasets that have <em>all</em> of the same column names <em>and they’re in the same order</em>. Similarly, the <code>cbind()</code> function is only useful when combining data with the same number of rows. If this is not the case, you can use the <code>merge</code> function for more complex joining operations. Type <code>merge</code> into the search bar under the help tab in RStudio to learn more about the function, or run the code <code>?base::merge</code>.</p>
</div>
<div id="long-format" class="section level2 unnumbered">
<h2>Long Format</h2>
<p>Putting data in long format increases the number of rows and decreases the number of columns in a data frame. In the health sciences, this often means that one row corresponds to one observation (at one point in time). If your data is not in long format, you can change it to long format with the <code>pivot_longer()</code> function, which comes from the tidyverse package.</p>
<p>Here’s an example of a research study where subjects had their VO2 max measured at four points in time, and it’s currently <em>not</em> in long format:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="CH6.html#cb100-1"></a>data_VO2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data_VO2.csv&quot;</span>)</span>
<span id="cb100-2"><a href="CH6.html#cb100-2"></a><span class="kw">head</span>(data_VO2)</span></code></pre></div>
<pre><code>  SubID    Time1    Time2    Time3    Time4
1     1 36.72302 34.08948 41.50392 42.85447
2     2 28.09261 33.22172 39.22484 47.51721
3     3 25.32283 34.95023 38.91351 40.67717
4     4 31.87634 35.51951 38.05794 46.51975
5     5 30.98121 33.18143 41.16101 46.96758
6     6 31.83277 35.58868 33.92712 45.27417</code></pre>
<p>We can convert the <strong>data_VO2.csv</strong> into long format with the <code>pivot_longer()</code> function:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="CH6.html#cb102-1"></a><span class="co"># Make sure the tidyverse package is loaded </span></span>
<span id="cb102-2"><a href="CH6.html#cb102-2"></a>data_VO2_long &lt;-<span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">data =</span> data_VO2, </span>
<span id="cb102-3"><a href="CH6.html#cb102-3"></a>                              <span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">&quot;Time1&quot;</span>, <span class="st">&quot;Time2&quot;</span>, <span class="st">&quot;Time3&quot;</span>, <span class="st">&quot;Time4&quot;</span>),</span>
<span id="cb102-4"><a href="CH6.html#cb102-4"></a>                              <span class="dt">names_to =</span> <span class="st">&quot;Time&quot;</span>, </span>
<span id="cb102-5"><a href="CH6.html#cb102-5"></a>                              <span class="dt">values_to =</span> <span class="st">&quot;VO2_max&quot;</span>)</span>
<span id="cb102-6"><a href="CH6.html#cb102-6"></a><span class="kw">head</span>(data_VO2_long)</span></code></pre></div>
<pre><code># A tibble: 6 x 3
  SubID Time  VO2_max
  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;
1     1 Time1    36.7
2     1 Time2    34.1
3     1 Time3    41.5
4     1 Time4    42.9
5     2 Time1    28.1
6     2 Time2    33.2</code></pre>
</div>
<div id="wide-format" class="section level2 unnumbered">
<h2>Wide Format</h2>
<p>Putting data in wide format increases the number of columns in a data frame. In the health sciences, this often means that one row will contain multiple points in time; this is how the <strong>data_VO2.csv</strong> was formatted before we converted it to long format. We can now change it back into wide format with the <code>pivot_wider()</code> function, which also comes from the <code>tidyverse</code> package.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="CH6.html#cb104-1"></a><span class="co"># Make sure the tidyverse package is loaded </span></span>
<span id="cb104-2"><a href="CH6.html#cb104-2"></a>data_VO2_wide &lt;-<span class="st"> </span><span class="kw">pivot_wider</span>(<span class="dt">data =</span> data_VO2_long,</span>
<span id="cb104-3"><a href="CH6.html#cb104-3"></a>                             <span class="dt">names_from =</span> <span class="st">&quot;Time&quot;</span>, </span>
<span id="cb104-4"><a href="CH6.html#cb104-4"></a>                             <span class="dt">values_from =</span> <span class="st">&quot;VO2_max&quot;</span>)</span>
<span id="cb104-5"><a href="CH6.html#cb104-5"></a><span class="kw">head</span>(data_VO2_wide)</span></code></pre></div>
<pre><code># A tibble: 6 x 5
  SubID Time1 Time2 Time3 Time4
  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1  36.7  34.1  41.5  42.9
2     2  28.1  33.2  39.2  47.5
3     3  25.3  35.0  38.9  40.7
4     4  31.9  35.5  38.1  46.5
5     5  31.0  33.2  41.2  47.0
6     6  31.8  35.6  33.9  45.3</code></pre>
</div>
<div id="recoding-variables" class="section level2 unnumbered">
<h2>Recoding Variables</h2>
<p>One of the easiest ways to recode/fix factors in R is with the <code>factor()</code> function. We’ll use the <strong>SubID_Age_Sex.csv</strong> dataset that was used earlier:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="CH6.html#cb106-1"></a>SubID_Age_Sex &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;SubID_Age_Sex.csv&quot;</span>)</span>
<span id="cb106-2"><a href="CH6.html#cb106-2"></a><span class="kw">head</span>(SubID_Age_Sex)</span></code></pre></div>
<pre><code>  subID      age sex
1     1 30.68838   F
2     2 28.33384   M
3     3 33.65584   M
4     4 35.51969   M
5     5 32.43415   M
6     6 28.14712   F</code></pre>
<p>For the <code>factor()</code> function, the first argument, <code>x</code>, is the column that should be selected, which in this case is <code>sex</code>. Again, we can use the dollar sign <code>$</code> to select a specific column from a dataset. The second argument, <code>levels</code>, is the levels that should be included, and the third argument, <code>labels</code>, is the labels that should be assigned to each level, respectively.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="CH6.html#cb108-1"></a>SubID_Age_Sex<span class="op">$</span>sex &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="dt">x =</span> SubID_Age_Sex<span class="op">$</span>sex, </span>
<span id="cb108-2"><a href="CH6.html#cb108-2"></a>                            <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>), </span>
<span id="cb108-3"><a href="CH6.html#cb108-3"></a>                            <span class="dt">labels =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb108-4"><a href="CH6.html#cb108-4"></a><span class="kw">head</span>(SubID_Age_Sex)</span></code></pre></div>
<pre><code>  subID      age sex
1     1 30.68838   1
2     2 28.33384   0
3     3 33.65584   0
4     4 35.51969   0
5     5 32.43415   0
6     6 28.14712   1</code></pre>
<p>Let’s take a look at a recoding example that’s slighly more involved. We’ll use the <strong>data_VO2.csv</strong> dataset used earlier.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="CH6.html#cb110-1"></a>data_VO2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data_VO2_long.csv&quot;</span>)</span>
<span id="cb110-2"><a href="CH6.html#cb110-2"></a><span class="kw">head</span>(data_VO2)</span></code></pre></div>
<pre><code>  SubID  Time  VO2_max
1     1 Time1 24.75065
2     1 Time2 35.03364
3     1 Time3 42.41792
4     1 Time4 46.61252
5     2 Time1 31.29356
6     2 Time2 29.43164</code></pre>
<p>And we’ll add a column of the subject’s sex:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="CH6.html#cb112-1"></a>data_VO2<span class="op">$</span>Sex &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;M&quot;</span>, <span class="dv">4</span>), <span class="kw">rep</span>(<span class="st">&quot;F&quot;</span>, <span class="dv">4</span>)), <span class="dv">10</span>)</span>
<span id="cb112-2"><a href="CH6.html#cb112-2"></a><span class="kw">head</span>(data_VO2)</span></code></pre></div>
<pre><code>  SubID  Time  VO2_max Sex
1     1 Time1 24.75065   M
2     1 Time2 35.03364   M
3     1 Time3 42.41792   M
4     1 Time4 46.61252   M
5     2 Time1 31.29356   F
6     2 Time2 29.43164   F</code></pre>
<p>Rather than having VO2max as continuous data, we’ll change it to categorical data: <code>poor</code>, <code>fair</code>, <code>good</code>, <code>excellent</code>. The catch, however, is that the classification will partially depend on whether the subject was a male or female (it also depends on age, but we’ll assume everyone in the study was 30 years old).</p>
<p>The easiest way to do this is with the <code>ifelse()</code> function, and we’ll also use several functions from the tidyverse package. First, we need to filter the data so that only males or females are included in the dataset, but not both. We can do this with the <code>filter()</code> function from the tidyverse package. We’ll also need to create a new column to store the data in, and one easy way to do this is with the <code>mutate()</code> function from the tidyverse package.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="CH6.html#cb114-1"></a>data_VO2_F &lt;-<span class="st"> </span><span class="kw">filter</span>(data_VO2, Sex <span class="op">==</span><span class="st"> &quot;F&quot;</span>)</span>
<span id="cb114-2"><a href="CH6.html#cb114-2"></a></span>
<span id="cb114-3"><a href="CH6.html#cb114-3"></a>data_VO2_F &lt;-<span class="st"> </span></span>
<span id="cb114-4"><a href="CH6.html#cb114-4"></a><span class="kw">mutate</span>(data_VO2, <span class="dt">VO2_max_cat =</span> <span class="kw">ifelse</span>(VO2_max <span class="op">&lt;</span><span class="st"> </span><span class="fl">22.8</span>, <span class="st">&quot;Very Poor&quot;</span>,</span>
<span id="cb114-5"><a href="CH6.html#cb114-5"></a>                               <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">22.8</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">26.9</span>, <span class="st">&quot;Poor&quot;</span>, </span>
<span id="cb114-6"><a href="CH6.html#cb114-6"></a>                               <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">27.0</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">31.4</span>, <span class="st">&quot;Fair&quot;</span>,</span>
<span id="cb114-7"><a href="CH6.html#cb114-7"></a>                               <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">31.5</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">35.6</span>, <span class="st">&quot;Good&quot;</span>,</span>
<span id="cb114-8"><a href="CH6.html#cb114-8"></a>                               <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">35.7</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">40.0</span>, <span class="st">&quot;Excellent&quot;</span>,</span>
<span id="cb114-9"><a href="CH6.html#cb114-9"></a>                                     <span class="st">&quot;Superior&quot;</span>))))))</span>
<span id="cb114-10"><a href="CH6.html#cb114-10"></a><span class="kw">head</span>(data_VO2_F)</span></code></pre></div>
<pre><code>  SubID  Time  VO2_max Sex VO2_max_cat
1     1 Time1 24.75065   M        Poor
2     1 Time2 35.03364   M        Good
3     1 Time3 42.41792   M    Superior
4     1 Time4 46.61252   M    Superior
5     2 Time1 31.29356   F        Fair
6     2 Time2 29.43164   F        Fair</code></pre>
<p>In the code above, the data were filtered to only include females. Notice that there are two equals signs <code>==</code> within the <code>filter()</code> function. This is because two equals signs is used to represent a logical statement. The first line of code above is filtering the data to only include females: <code>Sex == "F"</code>. This is a logical statement where we are saying we only want to include the data where <code>Sex == "F"</code> is true. If you were to add only one equals sign here you’d get an error, and errors like this can be very difficult to find!</p>
<p>After filtering, the data frame was assigned to the object <code>data_VO2_F</code>. Next, the <code>mutate()</code> function was used to create a new column called <code>VO2_max_cat</code> (cat for category). Then, the <code>ifelse()</code> function was used to assign a category based on the subject’s VO2_max. The first line reads, “If the VO2_max is less than 22.8, assign it the value”Very Poor“.” The last category, <code>Superior</code>, is assigned if the value does not meet any of the other conditions, which in this case is all values greater than 40.0.</p>
<p>Now we can repeat the same process for males:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="CH6.html#cb116-1"></a>data_VO2_M &lt;-<span class="st"> </span><span class="kw">filter</span>(data_VO2, Sex <span class="op">==</span><span class="st"> &quot;M&quot;</span>) </span>
<span id="cb116-2"><a href="CH6.html#cb116-2"></a></span>
<span id="cb116-3"><a href="CH6.html#cb116-3"></a>data_VO2_M &lt;-<span class="st"> </span></span>
<span id="cb116-4"><a href="CH6.html#cb116-4"></a><span class="kw">mutate</span>(data_VO2_M, <span class="dt">VO2_max_cat =</span> <span class="kw">ifelse</span>(VO2_max <span class="op">&lt;</span><span class="st"> </span><span class="fl">31.5</span>, <span class="st">&quot;Very Poor&quot;</span>,</span>
<span id="cb116-5"><a href="CH6.html#cb116-5"></a>                             <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">31.5</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">35.4</span>, <span class="st">&quot;Poor&quot;</span>, </span>
<span id="cb116-6"><a href="CH6.html#cb116-6"></a>                             <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">35.5</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">40.9</span>, <span class="st">&quot;Fair&quot;</span>,</span>
<span id="cb116-7"><a href="CH6.html#cb116-7"></a>                             <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">41.0</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">44.9</span>, <span class="st">&quot;Good&quot;</span>,</span>
<span id="cb116-8"><a href="CH6.html#cb116-8"></a>                             <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">45.0</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">49.4</span>, <span class="st">&quot;Excellent&quot;</span>,</span>
<span id="cb116-9"><a href="CH6.html#cb116-9"></a>                                    <span class="st">&quot;Superior&quot;</span>))))))</span>
<span id="cb116-10"><a href="CH6.html#cb116-10"></a></span>
<span id="cb116-11"><a href="CH6.html#cb116-11"></a><span class="kw">head</span>(data_VO2_M)</span></code></pre></div>
<pre><code>  SubID  Time  VO2_max Sex VO2_max_cat
1     1 Time1 24.75065   M   Very Poor
2     1 Time2 35.03364   M        Poor
3     1 Time3 42.41792   M        Good
4     1 Time4 46.61252   M   Excellent
5     3 Time1 28.31473   M   Very Poor
6     3 Time2 32.42022   M        Poor</code></pre>
<p>If you wanted the data frames to be combined back into one data frame that included both males and females, you could use the <code>rbind()</code> function.</p>
<p>You might want to recode certain values as <code>NA</code> if you know the observed values are impossible. Here’s an example where <code>Age</code> data is collected, and values less than 0 or greater than 130 are recoded as <code>NA</code>. Notice the vertical bar in the code. The vertical bar means <code>or</code>. So the code below reads, “If <code>Age</code> is less than 0 or greater than 130, assign the value <code>NA</code> to it.”</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="CH6.html#cb118-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Age =</span> <span class="kw">c</span>(<span class="dv">1546</span>, <span class="dv">43</span>, <span class="dv">23</span>, <span class="dv">56</span>, <span class="dv">-64</span>))</span>
<span id="cb118-2"><a href="CH6.html#cb118-2"></a>df<span class="op">$</span>Age[df<span class="op">$</span>Age <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">|</span><span class="st"> </span>df<span class="op">$</span>Age <span class="op">&gt;</span><span class="st"> </span><span class="dv">130</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></span>
<span id="cb118-3"><a href="CH6.html#cb118-3"></a>df</span></code></pre></div>
<pre><code>  Age
1  NA
2  43
3  23
4  56
5  NA</code></pre>
</div>
<div id="changing-variable-types" class="section level2 unnumbered">
<h2>Changing Variable Types</h2>
<p>As discussed briefly in <a href="CH2.html#CH2">Chapter 2</a>, there are several variable types in R, and the variable type of the data will affect the operations that you can and cannot perform on that data. For example, if the data is of the character class, you cannot calculate the mean with the <code>mean()</code> function.</p>
<p>Let’s say you have 10 values consisting of zeros and ones, where the ones are intended to represent <code>TRUE</code> and zeros are intended to represent <code>FALSE</code>.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="CH6.html#cb120-1"></a>values &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>)</span></code></pre></div>
<p>Unfortunately, R has no way of knowing that you want the zeros and ones to represent <code>FALSE</code> and <code>TRUE</code>. R will initially interpret the values exactly as they are, as numeric zeros and ones. You can find out the class of the object with the <code>class()</code> function:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="CH6.html#cb121-1"></a><span class="kw">class</span>(values)</span></code></pre></div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<p>As expected, the values are numeric. We can coerce the values to the logical class, so that the zeros are <code>FALSE</code> and ones are <code>TRUE</code>:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="CH6.html#cb123-1"></a><span class="kw">as.logical</span>(values)</span></code></pre></div>
<pre><code> [1] FALSE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE FALSE FALSE</code></pre>
<p>Now let’s check the class of the object:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="CH6.html#cb125-1"></a><span class="kw">class</span>(values)</span></code></pre></div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<p>Notice that the class is still the same. That’s because we didn’t overwrite the <code>values</code> object, which is what we need to do in order to permanently change the object:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="CH6.html#cb127-1"></a>values &lt;-<span class="st"> </span><span class="kw">as.logical</span>(values)</span>
<span id="cb127-2"><a href="CH6.html#cb127-2"></a><span class="kw">class</span>(values)</span></code></pre></div>
<pre><code>[1] &quot;logical&quot;</code></pre>
<p>R can only perform a coercion that makes sense.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="CH6.html#cb129-1"></a>words &lt;-<span class="st"> &quot;Can this sentence be coverted to a different class?&quot;</span></span>
<span id="cb129-2"><a href="CH6.html#cb129-2"></a><span class="kw">as.numeric</span>(words)</span>
<span id="cb129-3"><a href="CH6.html#cb129-3"></a><span class="kw">as.integer</span>(words)</span>
<span id="cb129-4"><a href="CH6.html#cb129-4"></a><span class="kw">as.logical</span>(words)</span>
<span id="cb129-5"><a href="CH6.html#cb129-5"></a><span class="kw">as.factor</span>(words)</span></code></pre></div>
<pre><code>[1] NA
[1] NA
[1] NA
[1] Can this sentence be coverted to a different class?
Levels: Can this sentence be coverted to a different class?</code></pre>
<p>As you can see in the example above, the sentence (which is of the character class) could not successfully be converted to a numeric, integer, or logical class. Doing so produced <code>NAs</code> in each case. The sentence <em>could</em>, however, be converted to a factor class. Although not at all sensible in this situation, it is possible because the string of characters can be represented as a categorical variable.</p>
<p>Here’s one more example using the <code>mtcars</code> data frame, which consists of 11 columns that are all of the numeric class:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="CH6.html#cb131-1"></a><span class="kw">str</span>(mtcars)</span></code></pre></div>
<pre><code>&#39;data.frame&#39;:   32 obs. of  11 variables:
 $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp: num  160 160 108 258 360 ...
 $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec: num  16.5 17 18.6 19.4 17 ...
 $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
 $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
 $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<p>It would make more sense to represent the <code>cyl</code> (cylinder) as a factor in most situations, since the data are not continuous and there are only 3 possible cylinder sizes in the data frame:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="CH6.html#cb133-1"></a>mtcars<span class="op">$</span>cyl &lt;-<span class="st"> </span><span class="kw">as.factor</span>(mtcars<span class="op">$</span>cyl)</span>
<span id="cb133-2"><a href="CH6.html#cb133-2"></a>mtcars<span class="op">$</span>cyl</span></code></pre></div>
<pre><code> [1] 6 6 4 6 8 6 8 4 4 6 6 8 8 8 8 8 8 4 4 4 4 8 8 8 8 4 4 4 8 6 8 4
Levels: 4 6 8</code></pre>
</div>
<div id="rename-columns" class="section level2 unnumbered">
<h2>Rename Columns</h2>
<p>Renaming columns is a very common task. Before renaming the columns, you might want to print all of the column names to the screen so you can look at them. This can be done with the <code>colnames()</code> function:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="CH6.html#cb135-1"></a><span class="kw">colnames</span>(mtcars)</span></code></pre></div>
<pre><code> [1] &quot;mpg&quot;  &quot;cyl&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot;
[11] &quot;carb&quot;</code></pre>
<p>Let’s say that we wanted to be abundantly clear about the column names of the mtcars data frame. Instead of <code>mpg</code> as the first column name, let’s rename it to <code>miles_per_gallon</code>.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="CH6.html#cb137-1"></a><span class="kw">colnames</span>(mtcars)[<span class="dv">1</span>] &lt;-<span class="st"> &quot;miles_per_gallon&quot;</span> </span>
<span id="cb137-2"><a href="CH6.html#cb137-2"></a><span class="kw">colnames</span>(mtcars)</span></code></pre></div>
<pre><code> [1] &quot;miles_per_gallon&quot; &quot;cyl&quot;              &quot;disp&quot;             &quot;hp&quot;              
 [5] &quot;drat&quot;             &quot;wt&quot;               &quot;qsec&quot;             &quot;vs&quot;              
 [9] &quot;am&quot;               &quot;gear&quot;             &quot;carb&quot;            </code></pre>
<p>The brackets were used to select the first item of column names, which in this case was <code>mpg</code>. If you wanted to rename multiple columns, you could do this in one step:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="CH6.html#cb139-1"></a><span class="kw">colnames</span>(mtcars)[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;cylinder&quot;</span>, <span class="st">&quot;horsepower&quot;</span>, <span class="st">&quot;weight&quot;</span>)</span>
<span id="cb139-2"><a href="CH6.html#cb139-2"></a><span class="kw">colnames</span>(mtcars)</span></code></pre></div>
<pre><code> [1] &quot;miles_per_gallon&quot; &quot;cylinder&quot;         &quot;disp&quot;             &quot;horsepower&quot;      
 [5] &quot;drat&quot;             &quot;weight&quot;           &quot;qsec&quot;             &quot;vs&quot;              
 [9] &quot;am&quot;               &quot;gear&quot;             &quot;carb&quot;            </code></pre>
<p>Columns 2, 4, and 6 were selected with the concatenate function (<code>c()</code>) and the names <code>cylinder</code>, <code>horsepower</code>, and <code>weight</code> were assigned to those column names, respectively.</p>
</div>
<div id="change-column-order" class="section level2 unnumbered">
<h2>Change Column Order</h2>
<p>You can change the order of columns in a data frame by subsetting with brackets and then using the concatenate function to change the order, like so:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="CH6.html#cb141-1"></a>iris &lt;-<span class="st"> </span>iris[<span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)]</span>
<span id="cb141-2"><a href="CH6.html#cb141-2"></a>iris</span></code></pre></div>
<p>The fifth column in the <code>iris</code> data frame, <code>Species</code>, is now listed first instead of last.</p>
</div>
<div id="data-manipulation" class="section level2 unnumbered">
<h2>Data Manipulation</h2>
<p>In this section we’ll provide a few examples of data transformation using the <code>tidyverse</code> package. Make sure you have the <code>tidyverse</code> library loaded before using the functions listed below:</p>
<ol style="list-style-type: decimal">
<li><code>select()</code>: pick variables (columns) by their names</li>
<li><code>filter()</code>: select observations by their values</li>
<li><code>mutate()</code>: create new variables (column) with functions of existing variables</li>
<li><code>arrange()</code>: Reorder the rows</li>
<li><code>summarise()</code>: collapse many values down to a single summary</li>
<li><code>group_by()</code>: change the scope of a function to operate on a group</li>
</ol>
<p>In the <strong>Recoding Variables</strong> section above we’ve already seen how data can easily be filtered with the <code>filter()</code> function from the <code>tidyverse</code> package. There might be situations where you need to do more than simply filtering the data. Maybe you’d like to filter the data, group it by some grouping variable, and then summarize the data based off of the grouping and filtering. This, and much more, can be done with some of the functions in the <code>tidyverse</code> package.</p>
<p>Let’s look at an example where we’d like to perform several transformations to the <strong>BMI_1.csv</strong> and <strong>SubID_Age_Sex.csv</strong> data frames. Earlier we combined these data frames into a new object called <code>newData</code>, which is the object we’ll be manipulating. Make sure to run the code below if you haven’t already.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="CH6.html#cb142-1"></a>data1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;SubID_Age_Sex.csv&quot;</span>)</span>
<span id="cb142-2"><a href="CH6.html#cb142-2"></a>data2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_1.csv&quot;</span>)</span>
<span id="cb142-3"><a href="CH6.html#cb142-3"></a>newData &lt;-<span class="st"> </span><span class="kw">cbind</span>(data1, data2)</span>
<span id="cb142-4"><a href="CH6.html#cb142-4"></a><span class="kw">head</span>(newData)</span></code></pre></div>
<pre><code>  subID      age sex   height   weight
1     1 30.68838   F 68.51668 154.6818
2     2 28.33384   M 65.31865 173.9590
3     3 33.65584   M 62.07894 138.2117
4     4 35.51969   M 64.84917 165.0201
5     5 32.43415   M 70.13895 148.6306
6     6 28.14712   F 67.31371 196.6275</code></pre>
<p>Let’s say we wanted to calculate the BMI of males only, and then arrange the data so that the highest BMI values are listed first. First we’d need to filter the data to include only males, then convert height and weight to metric values, then calculate BMI, then arrange the data in descending order according to BMI. We’ll use the <code>filter()</code>, <code>mutate()</code>, and <code>arrange()</code> functions to do this.</p>
<div id="good-option" class="section level3 unnumbered">
<h3>Good Option</h3>
<p>Here is one option of how the desired transformation could be accomplished. The code is readable, but several objects had to be created as intermediate steps, which is not ideal.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="CH6.html#cb144-1"></a>newData1 &lt;-<span class="st"> </span><span class="kw">filter</span>(newData, sex <span class="op">==</span><span class="st"> &quot;M&quot;</span>)</span>
<span id="cb144-2"><a href="CH6.html#cb144-2"></a>newData2 &lt;-<span class="st"> </span><span class="kw">mutate</span>(newData1, <span class="dt">weight_kg =</span> weight <span class="op">/</span><span class="st"> </span><span class="fl">2.2</span>,</span>
<span id="cb144-3"><a href="CH6.html#cb144-3"></a>                             <span class="dt">height_m =</span> height <span class="op">*</span><span class="st"> </span><span class="fl">.0254</span>,</span>
<span id="cb144-4"><a href="CH6.html#cb144-4"></a>                             <span class="dt">bmi =</span> weight_kg <span class="op">/</span><span class="st"> </span>height_m<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb144-5"><a href="CH6.html#cb144-5"></a>newData3 &lt;-<span class="st"> </span><span class="kw">arrange</span>(newData2, <span class="kw">desc</span>(bmi))</span>
<span id="cb144-6"><a href="CH6.html#cb144-6"></a>newData3</span></code></pre></div>
<pre><code>  subID      age sex   height   weight weight_kg height_m      bmi
1    14 31.20603   M 63.05955 173.9793  79.08148 1.601712 30.82518
2     2 28.33384   M 65.31865 173.9590  79.07225 1.659094 28.72647
3     4 35.51969   M 64.84917 165.0201  75.00913 1.647169 27.64636
4    19 29.41172   M 68.84346 184.8655  84.02978 1.748624 27.48150
5     3 33.65584   M 62.07894 138.2117  62.82348 1.576805 25.26771
6    10 25.18445   M 71.39754 177.2335  80.56069 1.813498 24.49567
7     7 30.53586   M 71.15408 166.7169  75.78042 1.807314 23.20010
8     5 32.43415   M 70.13895 148.6306  67.55937 1.781529 21.28628</code></pre>
<p>This way of doing things is just fine, but it’s not very efficient. Data manipulation often involves many steps, and it would be quite the hassle to create a new object for every step in the process, and then use that new object for further manipulation. Thankfully, there’s a better way to do this.</p>
</div>
<div id="better-option" class="section level3 unnumbered">
<h3>Better Option</h3>
<p>The code below is as readable as the last, and new objects did not have to be created in the process, making it the better option. In this code, the data was filtered to include only males, <code>weight_kg</code> and <code>height_m</code> columns were added, <code>bmi</code> was then calculated using those two columns, and the data was arranged so that the highest BMI values were listed first.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="CH6.html#cb146-1"></a>newData <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb146-2"><a href="CH6.html#cb146-2"></a><span class="st">    </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;M&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb146-3"><a href="CH6.html#cb146-3"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">weight_kg =</span> weight <span class="op">/</span><span class="st"> </span><span class="fl">2.2</span>,</span>
<span id="cb146-4"><a href="CH6.html#cb146-4"></a>           <span class="dt">height_m =</span> height <span class="op">*</span><span class="st"> </span><span class="fl">.0254</span>,</span>
<span id="cb146-5"><a href="CH6.html#cb146-5"></a>           <span class="dt">bmi =</span> weight_kg <span class="op">/</span><span class="st"> </span>height_m<span class="op">^</span><span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb146-6"><a href="CH6.html#cb146-6"></a><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(bmi))</span></code></pre></div>
<pre><code>  subID      age sex   height   weight weight_kg height_m      bmi
1    14 31.20603   M 63.05955 173.9793  79.08148 1.601712 30.82518
2     2 28.33384   M 65.31865 173.9590  79.07225 1.659094 28.72647
3     4 35.51969   M 64.84917 165.0201  75.00913 1.647169 27.64636
4    19 29.41172   M 68.84346 184.8655  84.02978 1.748624 27.48150
5     3 33.65584   M 62.07894 138.2117  62.82348 1.576805 25.26771
6    10 25.18445   M 71.39754 177.2335  80.56069 1.813498 24.49567
7     7 30.53586   M 71.15408 166.7169  75.78042 1.807314 23.20010
8     5 32.43415   M 70.13895 148.6306  67.55937 1.781529 21.28628</code></pre>
<p>This was all accomplished without creating new objects thanks to the pipe operator, <code>%&gt;%</code>. Think of the pipe as the word “then”. For example, take the <code>newData</code> object <em>then</em> <code>filter</code> to include only males, <em>then</em> <code>mutate</code> to calculate BMI values, <em>then</em> <code>arrange</code> the data.</p>
<p>Here’s another example that utilizes the other three functions: <code>select</code>, <code>group_by</code>, and <code>summarise</code>. We’ll be using the <code>data_VO2</code> object created earlier. Make sure to run the code below if you haven’t already.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="CH6.html#cb148-1"></a>data_VO2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data_VO2_long.csv&quot;</span>)</span>
<span id="cb148-2"><a href="CH6.html#cb148-2"></a>data_VO2<span class="op">$</span>Sex &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;M&quot;</span>, <span class="dv">4</span>), <span class="kw">rep</span>(<span class="st">&quot;F&quot;</span>, <span class="dv">4</span>)), <span class="dv">10</span>)</span>
<span id="cb148-3"><a href="CH6.html#cb148-3"></a><span class="kw">head</span>(data_VO2)</span></code></pre></div>
<pre><code>  SubID  Time  VO2_max Sex
1     1 Time1 24.75065   M
2     1 Time2 35.03364   M
3     1 Time3 42.41792   M
4     1 Time4 46.61252   M
5     2 Time1 31.29356   F
6     2 Time2 29.43164   F</code></pre>
<p>In this example, we want to select all columns except for the <code>SubID</code> column, group the observations by <code>Time</code> and <code>Sex</code>, perform a summary statistic where we calculate the average <code>VO2_max</code> based on that grouping, and count the number of observations in each grouping.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="CH6.html#cb150-1"></a>data_VO2 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb150-2"><a href="CH6.html#cb150-2"></a><span class="st">    </span><span class="kw">select</span>(<span class="op">!</span>SubID) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb150-3"><a href="CH6.html#cb150-3"></a><span class="st">    </span><span class="kw">group_by</span>(Time, Sex) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb150-4"><a href="CH6.html#cb150-4"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">VO2_max_avg =</span> <span class="kw">mean</span>(VO2_max),</span>
<span id="cb150-5"><a href="CH6.html#cb150-5"></a>              <span class="dt">count =</span> <span class="kw">n</span>())</span></code></pre></div>
<pre><code># A tibble: 8 x 4
# Groups:   Time [4]
  Time  Sex   VO2_max_avg count
  &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;int&gt;
1 Time1 F            30.7    10
2 Time1 M            28.4    10
3 Time2 F            32.0    10
4 Time2 M            34.4    10
5 Time3 F            40.0    10
6 Time3 M            41.2    10
7 Time4 F            44.1    10
8 Time4 M            45.0    10</code></pre>
<p>In the <code>select()</code> function the <code>SubID</code> column was <em>not</em> selected, which is indicated by the exclamation point, <code>!</code>. The data was then grouped by <code>Time</code> and <code>Sex</code>, and the <code>summarise()</code> function was used to create a new column called <code>VO2_max_avg</code>, which was computed as the average VO2_max <em>for each of the unique groups</em>. A <code>count</code> column was also created with the <code>n()</code> function, which counted the observations in each grouping.</p>
<p>We’ve shown that the <code>arrange()</code> function can be used to reorder rows of numeric data by descending (or ascending) values; it can also be used to arrange factors, like the <code>Sex</code> column. Here’s the same code as above, except that the data is arranged by <code>Sex</code> instead of <code>Time</code>:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="CH6.html#cb152-1"></a>data_VO2 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb152-2"><a href="CH6.html#cb152-2"></a><span class="st">    </span><span class="kw">select</span>(<span class="op">!</span>SubID) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb152-3"><a href="CH6.html#cb152-3"></a><span class="st">    </span><span class="kw">group_by</span>(Time, Sex) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb152-4"><a href="CH6.html#cb152-4"></a><span class="st">    </span><span class="kw">summarise</span>(<span class="dt">VO2_max_avg =</span> <span class="kw">mean</span>(VO2_max)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb152-5"><a href="CH6.html#cb152-5"></a><span class="st">    </span><span class="kw">arrange</span>(Sex)</span></code></pre></div>
<pre><code># A tibble: 8 x 3
# Groups:   Time [4]
  Time  Sex   VO2_max_avg
  &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;
1 Time1 F            30.7
2 Time2 F            32.0
3 Time3 F            40.0
4 Time4 F            44.1
5 Time1 M            28.4
6 Time2 M            34.4
7 Time3 M            41.2
8 Time4 M            45.0</code></pre>
<p>These data manipulation functions are far more comprehensive than what’s shown here. To see more examples of these functions and in much greater detail, check out the Data Transformation chapter in <em>R for Data Science</em>, which you can read <a href="https://r4ds.had.co.nz/transform.html">here</a>.</p>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="CH5.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="simple-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
