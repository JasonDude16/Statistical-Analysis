```{r include=FALSE}
library(ez)
library(tidyr)
```

# Repeated Measures ANOVA

> In this example we'll use the `ezANOVA()` function for fitting one and two sample t-test models with one continuous predictor, which will take the following form: 

$$y_i\ =\ \beta_0+\beta_1\left(X_{1i}\right)+\beta_2\left(X_{2i}\right)+\beta_3\left(X_{3i}\right)+e_i$$

> The code in this chapter only works if you're following along with the Github folder for this book (which you can download [here](https://github.com/JasonDude16)), you've correctly set your working directory to the data folder (which you can learn how to do in Chapter 4), and run the code in the order it appears in this chapter. 

## Importing {-}
```{r}
data <- read.csv("cardiovascular.csv")
```

## Viewing {-}
```{r}
head(data)
```

```{r}
str(data)
```

## Formatting {-}
```{r}
data <- pivot_longer(data = data, 
                     cols = c("Rest", "MAP_T1", "MAP_T2", "MAP_T3", "MAP_T4"),
                     names_to = "Time",
                     values_to = "MAP")
```

### Nested Design {-}

### Crossed Design {-}

```{r eval=FALSE}

```

## Modeling {-}

### The `ezANOVA()`Function {-}

```{r, eval=FALSE}
ezANOVA(
    data
    , dv
    , wid
    , within = NULL
    , within_full = NULL
    , within_covariates = NULL
    , between = NULL
    , between_covariates = NULL
    , observed = NULL
    , diff = NULL
    , reverse_diff = FALSE
    , type = 2
    , white.adjust = FALSE
    , detailed = FALSE
    , return_aov = FALSE
)
```

The `ezANOVA()` function is used for ANOVA models. There are many arguments for this function, but not all of them need to be specified. The ones that do need to be specified will depend on the exact ANOVA that you're performing. If you'd like to learn more about functions and arguments, **Chapter 2** covers basic programming concepts, including functions and arguments.


### Model {-}

```{r}
ez::ezANOVA(data, 
            dv = MAP, 
            wid = SubID, 
            within = .(Time))
```

