<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Simple Regression | _main.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Simple Regression | _main.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Simple Regression | _main.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="describing-and-visualizing-data.html"/>
<link rel="next" href="multiple-regression.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="statistical-model-flowchart.html"><a href="statistical-model-flowchart.html"><i class="fa fa-check"></i>Statistical Model Flowchart</a></li>
<li class="chapter" data-level="" data-path="functions-list.html"><a href="functions-list.html"><i class="fa fa-check"></i>Functions List</a></li>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i>Resources</a></li>
<li class="part"><span><b>I R Basics</b></span></li>
<li class="chapter" data-level="1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i><b>1</b> Getting Started with R</a><ul>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#what-is-r"><i class="fa fa-check"></i>What is R?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-r"><i class="fa fa-check"></i>Installing R</a><ul>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-1"><i class="fa fa-check"></i>Step 1</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-2"><i class="fa fa-check"></i>Step 2</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-3"><i class="fa fa-check"></i>Step 3</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-4-mac-users"><i class="fa fa-check"></i>Step 4: Mac users</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-4-windows-users"><i class="fa fa-check"></i>Step 4: Windows users</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#what-is-rstudio"><i class="fa fa-check"></i>What is RStudio?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-rstudio"><i class="fa fa-check"></i>Installing RStudio</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#opening-r-or-rstudio"><i class="fa fa-check"></i>Opening R or RStudio</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#the-rstudio-layout"><i class="fa fa-check"></i>The RStudio Layout</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#following-along"><i class="fa fa-check"></i>Following Along</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#opening-a-script"><i class="fa fa-check"></i>Opening a Script</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#saving-a-script"><i class="fa fa-check"></i>Saving a Script</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="programming-101.html"><a href="programming-101.html"><i class="fa fa-check"></i><b>2</b> Programming 101</a><ul>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#running-r-code"><i class="fa fa-check"></i>Running R Code</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#r-is-a-calculator"><i class="fa fa-check"></i>R is a calculator</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#objects-and-assignment"><i class="fa fa-check"></i>Objects and Assignment</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#variable-types"><i class="fa fa-check"></i>Variable Types</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#data-types"><i class="fa fa-check"></i>Data Types</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#functions-and-arguments"><i class="fa fa-check"></i>Functions and Arguments</a><ul>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#example"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html"><i class="fa fa-check"></i><b>3</b> Packages and Libraries</a><ul>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#what-are-packages"><i class="fa fa-check"></i>What are Packages?</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#installing-packages"><i class="fa fa-check"></i>Installing Packages</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#whats-a-library"><i class="fa fa-check"></i>What’s a Library?</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#loading-packages"><i class="fa fa-check"></i>Loading Packages</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>4</b> Reading and Writing Data</a><ul>
<li class="chapter" data-level="" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#setting-the-working-directory"><i class="fa fa-check"></i>Setting the Working Directory</a></li>
<li class="chapter" data-level="" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#reading-data"><i class="fa fa-check"></i>Reading Data</a></li>
<li class="chapter" data-level="" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i>Writing Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="formatting-data.html"><a href="formatting-data.html"><i class="fa fa-check"></i><b>5</b> Formatting Data</a><ul>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#merging-files"><i class="fa fa-check"></i>Merging Files</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#long-format"><i class="fa fa-check"></i>Long Format</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#wide-format"><i class="fa fa-check"></i>Wide Format</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#missing-data"><i class="fa fa-check"></i>Missing Data</a><ul>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#mean-imputation"><i class="fa fa-check"></i>Mean imputation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#recoding-variables"><i class="fa fa-check"></i>Recoding Variables</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#changing-variable-types"><i class="fa fa-check"></i>Changing Variable Types</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#rename-columns"><i class="fa fa-check"></i>Rename Columns</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#change-column-order"><i class="fa fa-check"></i>Change Column Order</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#data-transformation"><i class="fa fa-check"></i>Data Transformation</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#dealing-with-dates"><i class="fa fa-check"></i>Dealing with Dates</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="describing-and-visualizing-data.html"><a href="describing-and-visualizing-data.html"><i class="fa fa-check"></i><b>6</b> Describing and Visualizing Data</a><ul>
<li class="chapter" data-level="" data-path="describing-and-visualizing-data.html"><a href="describing-and-visualizing-data.html#viewing-data"><i class="fa fa-check"></i>Viewing Data</a></li>
<li class="chapter" data-level="" data-path="describing-and-visualizing-data.html"><a href="describing-and-visualizing-data.html#data-summaries"><i class="fa fa-check"></i>Data Summaries</a></li>
<li class="chapter" data-level="" data-path="describing-and-visualizing-data.html"><a href="describing-and-visualizing-data.html#visualizing-data"><i class="fa fa-check"></i>Visualizing Data</a></li>
</ul></li>
<li class="part"><span><b>II Statistical Analysis</b></span></li>
<li class="chapter" data-level="7" data-path="simple-regression.html"><a href="simple-regression.html"><i class="fa fa-check"></i><b>7</b> Simple Regression</a><ul>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#step-1-importing"><i class="fa fa-check"></i>Step 1: Importing</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#step-2-viewing"><i class="fa fa-check"></i>Step 2: Viewing</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#step-3-formatting"><i class="fa fa-check"></i>Step 3: Formatting</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#step-4-modelling"><i class="fa fa-check"></i>Step 4: Modelling</a><ul>
<li><a href="simple-regression.html#the-lm-function">The <code>lm()</code> Function</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#model-1-untransformed"><i class="fa fa-check"></i>Model 1: Untransformed</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#model-2-mean-centered"><i class="fa fa-check"></i>Model 2: Mean-Centered</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="multiple-regression.html"><a href="multiple-regression.html"><i class="fa fa-check"></i><b>8</b> Multiple Regression</a><ul>
<li><a href="multiple-regression.html#the-lm-function-1">The <code>lm()</code> Function</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="quick-example.html"><a href="quick-example.html"><i class="fa fa-check"></i>Quick Example</a><ul>
<li class="chapter" data-level="" data-path="quick-example.html"><a href="quick-example.html#model-1"><i class="fa fa-check"></i>Model 1</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="comprehensive-example.html"><a href="comprehensive-example.html"><i class="fa fa-check"></i><b>9</b> Comprehensive Example</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simple-regression" class="section level1">
<h1><span class="header-section-number">7</span> Simple Regression</h1>
<p>In this chapter we’ll use the <code>lm()</code> function for fitting a simple regression model with one continuous predictor. This will be a quick and simple example that assumes the data is in tidy format and is ready for analysis. If this is not the case for you, you can take a look at <strong>Chapter 4</strong> which covers basic data formatting.</p>
<div id="step-1-importing" class="section level2 unnumbered">
<h2>Step 1: Importing</h2>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" data-line-number="1"><span class="co"># Import</span></a>
<a class="sourceLine" id="cb99-2" data-line-number="2"><span class="co">## Set your working directory to the data folder</span></a>
<a class="sourceLine" id="cb99-3" data-line-number="3"><span class="kw">getwd</span>()</a>
<a class="sourceLine" id="cb99-4" data-line-number="4"><span class="kw">setwd</span>()</a>
<a class="sourceLine" id="cb99-5" data-line-number="5"><span class="kw">list.files</span>()</a>
<a class="sourceLine" id="cb99-6" data-line-number="6">data &lt;-<span class="st"> </span><span class="kw">read.csv</span>()</a>
<a class="sourceLine" id="cb99-7" data-line-number="7"><span class="co">## You can use the read.csv() arguments to make importing adjustments</span></a>
<a class="sourceLine" id="cb99-8" data-line-number="8"></a>
<a class="sourceLine" id="cb99-9" data-line-number="9"><span class="co">## Bind together files if needed </span></a>
<a class="sourceLine" id="cb99-10" data-line-number="10"><span class="kw">cbind</span>() <span class="co"># Column bind</span></a>
<a class="sourceLine" id="cb99-11" data-line-number="11"><span class="kw">rbind</span>() <span class="co"># Row bind</span></a>
<a class="sourceLine" id="cb99-12" data-line-number="12"></a>
<a class="sourceLine" id="cb99-13" data-line-number="13"><span class="co">## Long and Wide formatting</span></a></code></pre></div>
</div>
<div id="step-2-viewing" class="section level2 unnumbered">
<h2>Step 2: Viewing</h2>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1"><span class="co"># View </span></a>
<a class="sourceLine" id="cb100-2" data-line-number="2"><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb100-3" data-line-number="3"><span class="kw">str</span>()</a>
<a class="sourceLine" id="cb100-4" data-line-number="4"><span class="kw">summary</span>()</a>
<a class="sourceLine" id="cb100-5" data-line-number="5"><span class="kw">hist</span>()</a>
<a class="sourceLine" id="cb100-6" data-line-number="6"><span class="kw">plot</span>()</a>
<a class="sourceLine" id="cb100-7" data-line-number="7"><span class="kw">is.na</span>()</a>
<a class="sourceLine" id="cb100-8" data-line-number="8"><span class="kw">mean</span>()</a>
<a class="sourceLine" id="cb100-9" data-line-number="9"><span class="kw">sd</span>()</a></code></pre></div>
<p>Let’s see what it looks like:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" data-line-number="1"><span class="kw">head</span>(iris)</a></code></pre></div>
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>As you can see, it’s a very simple datasest consisting of sepal lengths and widths, and petal lengths and widths for several (three) species of plants. Now let’s use the <code>str</code> function to see the structure of the dataset:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1"><span class="kw">str</span>(iris)</a></code></pre></div>
<pre><code>&#39;data.frame&#39;:   150 obs. of  5 variables:
 $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
 $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
 $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
 $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
 $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>This tells us a lot of good information. We have a data-frame, we know the dimensions, and we know the data types of the columns. The next step is typically formatting the data, but obviously there’s nothing to format here. So we’ll go straight to the modelling step.</p>
</div>
<div id="step-3-formatting" class="section level2 unnumbered">
<h2>Step 3: Formatting</h2>
</div>
<div id="step-4-modelling" class="section level2 unnumbered">
<h2>Step 4: Modelling</h2>
<div id="the-lm-function" class="section level3 unnumbered">
<h3>The <code>lm()</code> Function</h3>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1"><span class="kw">lm</span>(formula, data, subset, weights, na.action,</a>
<a class="sourceLine" id="cb105-2" data-line-number="2">   <span class="dt">method =</span> <span class="st">&quot;qr&quot;</span>, <span class="dt">model =</span> <span class="ot">TRUE</span>, <span class="dt">x =</span> <span class="ot">FALSE</span>, <span class="dt">y =</span> <span class="ot">FALSE</span>, <span class="dt">qr =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb105-3" data-line-number="3">   <span class="dt">singular.ok =</span> <span class="ot">TRUE</span>, <span class="dt">contrasts =</span> <span class="ot">NULL</span>, offset, ...)</a></code></pre></div>
<p>The <code>lm()</code> (linear model) function is used for fitting linear models. Notice that there are many arguments for this function, but the <code>formula</code> argument is the only argument that <em>needs</em> to be specified. If you’d like to learn more about functions and arguments, please take a look at <strong>Chapter 2</strong> which covers basic programming concepts, including functions and arguments.</p>
<p>Let’s take a look at how we can use the <code>lm()</code> function to make two models with the same variables using a simple regression: the untransformed linear model and a mean-centered model. For both models we’ll use <code>Sepal Length</code> as the dependent variable and <code>Sepal Width</code> as the independent variable.</p>
</div>
<div id="model-1-untransformed" class="section level3 unnumbered">
<h3>Model 1: Untransformed</h3>
<p><span class="math display">\[y_i\ =\ \beta_0\ +\ \beta_1\left(x_i\right)\ +\ e_i\]</span>
The equation above represents the untransformed, simple regression model with one continuous predictor. Let’s implement this model with the <code>lm()</code> function. The dependent variable is listed first, followed by a tilda, <code>~</code>, and then the independent variable(s).</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1"><span class="kw">lm</span>(<span class="dt">formula =</span> Sepal.Length <span class="op">~</span><span class="st"> </span>Sepal.Width, <span class="dt">data =</span> iris)</a></code></pre></div>
<pre><code>
Call:
lm(formula = Sepal.Length ~ Sepal.Width, data = iris)

Coefficients:
(Intercept)  Sepal.Width  
     6.5262      -0.2234  </code></pre>
<p>The function prints out the slope and intercept for the model. We could then use the slope and intercept to create a plot with an <code>abline</code>:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1"><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Width, iris<span class="op">$</span>Sepal.Length)</a>
<a class="sourceLine" id="cb108-2" data-line-number="2"><span class="kw">abline</span>(<span class="fl">6.5262</span>, <span class="fl">-0.2234</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-85-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The correlation looks weak, and it likely isn’t significant, but how can we be sure? The <code>lm()</code> function printed the coefficients but did not provide information about the R-squared or significance. To see this information, we need to save the model as an object, and then print the summary of the model, like so:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" data-line-number="1">my_model &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">formula =</span> Sepal.Length <span class="op">~</span><span class="st"> </span>Sepal.Width, <span class="dt">data =</span> iris)</a>
<a class="sourceLine" id="cb109-2" data-line-number="2"><span class="kw">summary</span>(my_model)</a></code></pre></div>
<pre><code>
Call:
lm(formula = Sepal.Length ~ Sepal.Width, data = iris)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.5561 -0.6333 -0.1120  0.5579  2.2226 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   6.5262     0.4789   13.63   &lt;2e-16 ***
Sepal.Width  -0.2234     0.1551   -1.44    0.152    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.8251 on 148 degrees of freedom
Multiple R-squared:  0.01382,   Adjusted R-squared:  0.007159 
F-statistic: 2.074 on 1 and 148 DF,  p-value: 0.1519</code></pre>
<p>Now we have a nice summary print-out which includes the <code>F-statistic</code>, <code>Residuals</code>, <code>R-squared</code>, <code>p-value</code>, and more. What’s also nice is we can now use the <code>plot</code> function on the <code>my_model</code> object that we just created to view <code>Residuals vs Fitted</code>, <code>Normal Q-Q</code>, <code>Scale-Location</code> and <code>Residuals vs Leverage</code> plots.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" data-line-number="1"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># this function prints the graphs as a 2x2 grid</span></a>
<a class="sourceLine" id="cb111-2" data-line-number="2"><span class="kw">plot</span>(my_model)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-87-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>What else can we do with the <code>my_model</code> object? Let’s take a look at the object’s <code>attributes</code>:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="kw">attributes</span>(my_model)</a></code></pre></div>
<pre><code>$names
 [1] &quot;coefficients&quot;  &quot;residuals&quot;     &quot;effects&quot;       &quot;rank&quot;         
 [5] &quot;fitted.values&quot; &quot;assign&quot;        &quot;qr&quot;            &quot;df.residual&quot;  
 [9] &quot;xlevels&quot;       &quot;call&quot;          &quot;terms&quot;         &quot;model&quot;        

$class
[1] &quot;lm&quot;</code></pre>
<p>The model’s <code>attributes</code> can be accessed by using a dollar sign, <code>$</code>. For example, here’s a printout of the first 5 residuals of our model:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1">my_model<span class="op">$</span>residuals[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a></code></pre></div>
<pre><code>         1          2          3          4          5 
-0.6444588 -0.9561394 -1.1114672 -1.2338033 -0.7221227 </code></pre>
</div>
<div id="model-2-mean-centered" class="section level3 unnumbered">
<h3>Model 2: Mean-Centered</h3>
<p><span class="math display">\[y_i=\beta_0+\beta_1\left(x_i\ -\ \overline{x}\right)\ +\ e_i\]</span>
In this example we’ll use the same variables as before but this time we’ll mean-center the independent/predictor variable. First, we create a column that consists of the sepal width mean, which is 3.06. Since there are 150 rows in the iris dataset, that means we are creating a column that has the value 3.06 repeated 150 times. This value is then saved into the column <code>SW_mean</code>; that’s what the first line of code in the code chunk below is doing. In the second line of code, each sepal width value is subtracted from the sepal width mean column, which is then stored in a new column called <code>SW_mean_center</code>.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1"><span class="co"># create a column that consists of the mean sepal width value</span></a>
<a class="sourceLine" id="cb116-2" data-line-number="2">iris<span class="op">$</span>SW_mean &lt;-<span class="st"> </span><span class="kw">mean</span>(iris<span class="op">$</span>Sepal.Width) </a>
<a class="sourceLine" id="cb116-3" data-line-number="3"></a>
<a class="sourceLine" id="cb116-4" data-line-number="4"><span class="co"># subtract sepal width column from mean column</span></a>
<a class="sourceLine" id="cb116-5" data-line-number="5">iris<span class="op">$</span>SW_mean_center &lt;-<span class="st"> </span>iris<span class="op">$</span>Sepal.Width <span class="op">-</span><span class="st"> </span>iris<span class="op">$</span>SW_mean </a></code></pre></div>
<p>Let’s see what it looks like.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" data-line-number="1"><span class="kw">plot</span>(iris<span class="op">$</span>SW_mean_center, iris<span class="op">$</span>Sepal.Length)</a>
<a class="sourceLine" id="cb117-2" data-line-number="2"><span class="kw">abline</span>(<span class="kw">lm</span>(iris<span class="op">$</span>Sepal.Length <span class="op">~</span><span class="st"> </span>iris<span class="op">$</span>SW_mean_center), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-91-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>We can now use this mean-centered column as the dependent variable.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="kw">lm</span>(<span class="dt">formula =</span> Sepal.Length <span class="op">~</span><span class="st"> </span>SW_mean_center, <span class="dt">data =</span> iris)</a></code></pre></div>
<pre><code>
Call:
lm(formula = Sepal.Length ~ SW_mean_center, data = iris)

Coefficients:
   (Intercept)  SW_mean_center  
        5.8433         -0.2234  </code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="describing-and-visualizing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="multiple-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
