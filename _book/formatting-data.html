<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Formatting Data | _main.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Formatting Data | _main.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Formatting Data | _main.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reading-and-writing-data.html"/>
<link rel="next" href="describing-and-visualizing-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="statistical-model-flowchart.html"><a href="statistical-model-flowchart.html"><i class="fa fa-check"></i>Statistical Model Flowchart</a></li>
<li class="chapter" data-level="" data-path="functions-list.html"><a href="functions-list.html"><i class="fa fa-check"></i>Functions List</a></li>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i>Resources</a></li>
<li class="part"><span><b>I R Basics</b></span></li>
<li class="chapter" data-level="1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i><b>1</b> Getting Started with R</a><ul>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#what-is-r"><i class="fa fa-check"></i>What is R?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-r"><i class="fa fa-check"></i>Installing R</a><ul>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-1"><i class="fa fa-check"></i>Step 1</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-2"><i class="fa fa-check"></i>Step 2</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-3"><i class="fa fa-check"></i>Step 3</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-4-mac-users"><i class="fa fa-check"></i>Step 4: Mac users</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#step-4-windows-users"><i class="fa fa-check"></i>Step 4: Windows users</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#what-is-rstudio"><i class="fa fa-check"></i>What is RStudio?</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-rstudio"><i class="fa fa-check"></i>Installing RStudio</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#opening-r-or-rstudio"><i class="fa fa-check"></i>Opening R or RStudio</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#the-rstudio-layout"><i class="fa fa-check"></i>The RStudio Layout</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#following-along"><i class="fa fa-check"></i>Following Along</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#opening-a-script"><i class="fa fa-check"></i>Opening a Script</a></li>
<li class="chapter" data-level="" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#saving-a-script"><i class="fa fa-check"></i>Saving a Script</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="programming-101.html"><a href="programming-101.html"><i class="fa fa-check"></i><b>2</b> Programming 101</a><ul>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#running-r-code"><i class="fa fa-check"></i>Running R Code</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#r-is-a-calculator"><i class="fa fa-check"></i>R is a calculator</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#objects-and-assignment"><i class="fa fa-check"></i>Objects and Assignment</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#variable-types"><i class="fa fa-check"></i>Variable Types</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#data-types"><i class="fa fa-check"></i>Data Types</a></li>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#functions-and-arguments"><i class="fa fa-check"></i>Functions and Arguments</a><ul>
<li class="chapter" data-level="" data-path="programming-101.html"><a href="programming-101.html#example"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html"><i class="fa fa-check"></i><b>3</b> Packages and Libraries</a><ul>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#what-are-packages"><i class="fa fa-check"></i>What are Packages?</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#installing-packages"><i class="fa fa-check"></i>Installing Packages</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#whats-a-library"><i class="fa fa-check"></i>What’s a Library?</a></li>
<li class="chapter" data-level="" data-path="packages-and-libraries.html"><a href="packages-and-libraries.html#loading-packages"><i class="fa fa-check"></i>Loading Packages</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html"><i class="fa fa-check"></i><b>4</b> Reading and Writing Data</a><ul>
<li class="chapter" data-level="" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#setting-the-working-directory"><i class="fa fa-check"></i>Setting the Working Directory</a></li>
<li class="chapter" data-level="" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#reading-data"><i class="fa fa-check"></i>Reading Data</a></li>
<li class="chapter" data-level="" data-path="reading-and-writing-data.html"><a href="reading-and-writing-data.html#writing-data"><i class="fa fa-check"></i>Writing Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="formatting-data.html"><a href="formatting-data.html"><i class="fa fa-check"></i><b>5</b> Formatting Data</a><ul>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#merging-files"><i class="fa fa-check"></i>Merging Files</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#long-format"><i class="fa fa-check"></i>Long Format</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#wide-format"><i class="fa fa-check"></i>Wide Format</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#missing-data"><i class="fa fa-check"></i>Missing Data</a><ul>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#mean-imputation"><i class="fa fa-check"></i>Mean imputation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#recoding-variables"><i class="fa fa-check"></i>Recoding Variables</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#changing-variable-types"><i class="fa fa-check"></i>Changing Variable Types</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#rename-columns"><i class="fa fa-check"></i>Rename Columns</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#change-column-order"><i class="fa fa-check"></i>Change Column Order</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#data-transformation"><i class="fa fa-check"></i>Data Transformation</a></li>
<li class="chapter" data-level="" data-path="formatting-data.html"><a href="formatting-data.html#dealing-with-dates"><i class="fa fa-check"></i>Dealing with Dates</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="describing-and-visualizing-data.html"><a href="describing-and-visualizing-data.html"><i class="fa fa-check"></i><b>6</b> Describing and Visualizing Data</a><ul>
<li class="chapter" data-level="" data-path="describing-and-visualizing-data.html"><a href="describing-and-visualizing-data.html#viewing-data"><i class="fa fa-check"></i>Viewing Data</a></li>
<li class="chapter" data-level="" data-path="describing-and-visualizing-data.html"><a href="describing-and-visualizing-data.html#data-summaries"><i class="fa fa-check"></i>Data Summaries</a></li>
<li class="chapter" data-level="" data-path="describing-and-visualizing-data.html"><a href="describing-and-visualizing-data.html#visualizing-data"><i class="fa fa-check"></i>Visualizing Data</a></li>
</ul></li>
<li class="part"><span><b>II Statistical Analysis</b></span></li>
<li class="chapter" data-level="7" data-path="simple-regression.html"><a href="simple-regression.html"><i class="fa fa-check"></i><b>7</b> Simple Regression</a><ul>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#step-1-importing"><i class="fa fa-check"></i>Step 1: Importing</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#step-2-viewing"><i class="fa fa-check"></i>Step 2: Viewing</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#step-3-formatting"><i class="fa fa-check"></i>Step 3: Formatting</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#step-4-modelling"><i class="fa fa-check"></i>Step 4: Modelling</a><ul>
<li><a href="simple-regression.html#the-lm-function">The <code>lm()</code> Function</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#model-1-untransformed"><i class="fa fa-check"></i>Model 1: Untransformed</a></li>
<li class="chapter" data-level="" data-path="simple-regression.html"><a href="simple-regression.html#model-2-mean-centered"><i class="fa fa-check"></i>Model 2: Mean-Centered</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="multiple-regression.html"><a href="multiple-regression.html"><i class="fa fa-check"></i><b>8</b> Multiple Regression</a><ul>
<li><a href="multiple-regression.html#the-lm-function-1">The <code>lm()</code> Function</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="quick-example.html"><a href="quick-example.html"><i class="fa fa-check"></i>Quick Example</a><ul>
<li class="chapter" data-level="" data-path="quick-example.html"><a href="quick-example.html#model-1"><i class="fa fa-check"></i>Model 1</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="comprehensive-example.html"><a href="comprehensive-example.html"><i class="fa fa-check"></i><b>9</b> Comprehensive Example</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="formatting-data" class="section level1">
<h1><span class="header-section-number">5</span> Formatting Data</h1>
<blockquote>
<p>This chapter will cover: missing data, merging data files, changing variable types, recoding varibles, data transformation and tidy data principles.</p>
</blockquote>
<blockquote>
<p>The code in this chapter only works if you’re following along with the Github folder for this book (which you can download here), correctly set your working directory to the data folder (which you can learn how to do in Chapter 4), and run the code in the order it appears in this chapter.</p>
</blockquote>
<div id="merging-files" class="section level2 unnumbered">
<h2>Merging Files</h2>
<p>Sometimes you might want to import multiple files and combine them into one dataset. This can be accomplished with the <code>cbind()</code> and <code>rbind()</code> functions, which are short for column bind and row bind. Let’s say you have three files that have the same column names and you want to combine them.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">data1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_1.csv&quot;</span>)</a>
<a class="sourceLine" id="cb44-2" data-line-number="2"><span class="kw">dim</span>(data1)</a>
<a class="sourceLine" id="cb44-3" data-line-number="3"></a>
<a class="sourceLine" id="cb44-4" data-line-number="4">data2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_2.csv&quot;</span>)</a>
<a class="sourceLine" id="cb44-5" data-line-number="5"><span class="kw">dim</span>(data2)</a>
<a class="sourceLine" id="cb44-6" data-line-number="6"></a>
<a class="sourceLine" id="cb44-7" data-line-number="7">data3 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_3.csv&quot;</span>)</a>
<a class="sourceLine" id="cb44-8" data-line-number="8"><span class="kw">dim</span>(data3)</a>
<a class="sourceLine" id="cb44-9" data-line-number="9"></a>
<a class="sourceLine" id="cb44-10" data-line-number="10">newData &lt;-<span class="st"> </span><span class="kw">rbind</span>(data1, data2, data3)</a>
<a class="sourceLine" id="cb44-11" data-line-number="11"><span class="kw">dim</span>(newData)</a></code></pre></div>
<pre><code>[1] 20  2
[1] 20  2
[1] 20  2
[1] 60  2</code></pre>
<p>As you can see the last printout shows the dimensions are 60 x 2, which means the three datasets were successfully combined.</p>
<p>Let’s say you have two files with <em>different</em> column names and want to combine them side-by-side. For example, you might have a data file that contains <code>subID</code>, <code>age</code> and <code>sex</code>, and another file contains <code>height</code> and <code>weight</code> data. These columns can be added into one dataset with the <code>cbind()</code> function.</p>
<p><code>subID</code>, <code>age</code>, and <code>sex</code> dataset:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">data1 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;SubID_Age_Sex.csv&quot;</span>)</a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="kw">head</span>(data1)</a></code></pre></div>
<pre><code>  subID      age sex
1     1 30.68838   F
2     2 28.33384   M
3     3 33.65584   M
4     4 35.51969   M
5     5 32.43415   M
6     6 28.14712   F</code></pre>
<p><code>height</code> and <code>weight</code> dataset:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">data2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;BMI_1.csv&quot;</span>)</a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="kw">head</span>(data2)</a></code></pre></div>
<pre><code>    height   weight
1 68.51668 154.6818
2 65.31865 173.9590
3 62.07894 138.2117
4 64.84917 165.0201
5 70.13895 148.6306
6 67.31371 196.6275</code></pre>
<p>Combind with the <code>cbind()</code> function:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">newData &lt;-<span class="st"> </span><span class="kw">cbind</span>(data1, data2)</a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="kw">head</span>(newData)</a></code></pre></div>
<pre><code>  subID      age sex   height   weight
1     1 30.68838   F 68.51668 154.6818
2     2 28.33384   M 65.31865 173.9590
3     3 33.65584   M 62.07894 138.2117
4     4 35.51969   M 64.84917 165.0201
5     5 32.43415   M 70.13895 148.6306
6     6 28.14712   F 67.31371 196.6275</code></pre>
</div>
<div id="long-format" class="section level2 unnumbered">
<h2>Long Format</h2>
<p>Putting data in long format increases the number of rows and decreases the number of columns in a data frame. In the health sciences, this often means that one row corresponds to one observation (at one point in time). If your data is not in long format, you can change it to long format with the <code>pivot_longer()</code> function, which comes from the tidyverse package.</p>
<p>Here’s an example of a research study where subjects had their VO2 max measured at four points in time, and it’s currently <em>not</em> in long format:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">data_VO2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data_VO2.csv&quot;</span>)</a>
<a class="sourceLine" id="cb52-2" data-line-number="2"><span class="kw">head</span>(data_VO2)</a></code></pre></div>
<pre><code>  SubID    Time1    Time2    Time3    Time4
1     1 36.72302 34.08948 41.50392 42.85447
2     2 28.09261 33.22172 39.22484 47.51721
3     3 25.32283 34.95023 38.91351 40.67717
4     4 31.87634 35.51951 38.05794 46.51975
5     5 30.98121 33.18143 41.16101 46.96758
6     6 31.83277 35.58868 33.92712 45.27417</code></pre>
<p>We can convert the <strong>data_VO2.csv</strong> into long format with the <code>pivot_longer()</code> function:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="co"># Make sure the tidyverse package is loaded </span></a>
<a class="sourceLine" id="cb54-2" data-line-number="2">data_VO2_long &lt;-<span class="st"> </span><span class="kw">pivot_longer</span>(<span class="dt">data =</span> data_VO2, </a>
<a class="sourceLine" id="cb54-3" data-line-number="3">                              <span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">&quot;Time1&quot;</span>, <span class="st">&quot;Time2&quot;</span>, <span class="st">&quot;Time3&quot;</span>, <span class="st">&quot;Time4&quot;</span>),</a>
<a class="sourceLine" id="cb54-4" data-line-number="4">                              <span class="dt">names_to =</span> <span class="st">&quot;Time&quot;</span>, </a>
<a class="sourceLine" id="cb54-5" data-line-number="5">                              <span class="dt">values_to =</span> <span class="st">&quot;VO2_max&quot;</span>)</a>
<a class="sourceLine" id="cb54-6" data-line-number="6"><span class="kw">head</span>(data_VO2_long)</a></code></pre></div>
<pre><code># A tibble: 6 x 3
  SubID Time  VO2_max
  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;
1     1 Time1    36.7
2     1 Time2    34.1
3     1 Time3    41.5
4     1 Time4    42.9
5     2 Time1    28.1
6     2 Time2    33.2</code></pre>
</div>
<div id="wide-format" class="section level2 unnumbered">
<h2>Wide Format</h2>
<p>Putting data in wide format increases the number of columns in a data frame. In the health sciences, this often means that one row will contain multiple points in time; this is how the <strong>data_VO2.csv</strong> was formatted before we converted it to long format. We can now change it back into wide format with the <code>pivot_wider()</code> function, which also comes from the tidyverse package.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="co"># Make sure the tidyverse package is loaded </span></a>
<a class="sourceLine" id="cb56-2" data-line-number="2">data_VO2_wide &lt;-<span class="st"> </span><span class="kw">pivot_wider</span>(<span class="dt">data =</span> data_VO2_long,</a>
<a class="sourceLine" id="cb56-3" data-line-number="3">                             <span class="dt">names_from =</span> <span class="st">&quot;Time&quot;</span>, </a>
<a class="sourceLine" id="cb56-4" data-line-number="4">                             <span class="dt">values_from =</span> <span class="st">&quot;VO2_max&quot;</span>)</a>
<a class="sourceLine" id="cb56-5" data-line-number="5"><span class="kw">head</span>(data_VO2_wide)</a></code></pre></div>
<pre><code># A tibble: 6 x 5
  SubID Time1 Time2 Time3 Time4
  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1  36.7  34.1  41.5  42.9
2     2  28.1  33.2  39.2  47.5
3     3  25.3  35.0  38.9  40.7
4     4  31.9  35.5  38.1  46.5
5     5  31.0  33.2  41.2  47.0
6     6  31.8  35.6  33.9  45.3</code></pre>
</div>
<div id="missing-data" class="section level2 unnumbered">
<h2>Missing Data</h2>
<p>Missing data can be handled in many different ways, and selecting the most appropriate method is beyond the scope of this book. Instead, we’ll only cover how to find and omit observations with missing data.</p>
<p>First we’ll create a data frame in R that contains <code>NA</code> values:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Col1 =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">1</span>, <span class="dv">21</span>, <span class="dv">34</span>, <span class="ot">NA</span>), </a>
<a class="sourceLine" id="cb58-2" data-line-number="2">                   <span class="dt">Col2 =</span> <span class="kw">c</span>(<span class="dv">23</span>, <span class="dv">34</span>, <span class="dv">34</span>, <span class="dv">12</span>, <span class="dv">56</span>),</a>
<a class="sourceLine" id="cb58-3" data-line-number="3">                   <span class="dt">Col3 =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">2</span>, <span class="dv">12</span>, <span class="dv">43</span>, <span class="dv">12</span>))</a>
<a class="sourceLine" id="cb58-4" data-line-number="4">data</a></code></pre></div>
<pre><code>  Col1 Col2 Col3
1   NA   23   NA
2    1   34    2
3   21   34   12
4   34   12   43
5   NA   56   12</code></pre>
<p>You can use the <code>is.na()</code> function to assess if a value is missing in a data frame or not. For example:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">is.na</span>(data)</a>
<a class="sourceLine" id="cb60-2" data-line-number="2"><span class="co"># Missing values in data frame</span></a></code></pre></div>
<pre><code>      Col1  Col2  Col3
[1,]  TRUE FALSE  TRUE
[2,] FALSE FALSE FALSE
[3,] FALSE FALSE FALSE
[4,] FALSE FALSE FALSE
[5,]  TRUE FALSE FALSE</code></pre>
<p>What you get in return is <code>TRUE</code> and <code>FALSE</code> values. If the value is <code>TRUE</code>, that means there is an <code>NA</code> value in that location. This might not be particularly helpful, though, if you have a large data frame. Instead, it might be more useful to have the count of <code>NA</code> values returned. To do this, we could use the <code>is.na()</code> function wrapped inside of a <code>sum()</code> function:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">is.na</span>(data))</a>
<a class="sourceLine" id="cb62-2" data-line-number="2"><span class="co"># Sum of missing values in data frame</span></a></code></pre></div>
<pre><code>[1] 3</code></pre>
<p>You might want to know how many <code>NA</code> values are in a specific column rather than the entire dataset. Selecting just one column from a data frame is a very common task, and one way you can do this is with the dollar sign, <code>$</code>:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="kw">sum</span>(<span class="kw">is.na</span>(data<span class="op">$</span>Col1))</a>
<a class="sourceLine" id="cb64-2" data-line-number="2"><span class="co"># Sum of missing values in Col1 </span></a></code></pre></div>
<pre><code>[1] 2</code></pre>
<p>A quick way to get the missing values for all columns of a data frame is with the <code>colSums()</code> function:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="kw">colSums</span>(<span class="kw">is.na</span>(data))</a></code></pre></div>
<pre><code>Col1 Col2 Col3 
   2    0    1 </code></pre>
<p>You can omit all missing values in a data frame with the <code>na.omit()</code> function:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="kw">na.omit</span>(data)</a></code></pre></div>
<pre><code>  Col1 Col2 Col3
2    1   34    2
3   21   34   12
4   34   12   43</code></pre>
<p>The “opposite” of the <code>na.omit()</code> function would be finding and listing all the rows that <em>do</em> contain missing values, and that’s what the code below accomplishes:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1">data[<span class="op">!</span><span class="kw">complete.cases</span>(data), ]</a></code></pre></div>
<pre><code>  Col1 Col2 Col3
1   NA   23   NA
5   NA   56   12</code></pre>
<p>A couple things need to be explained first to understand the code above. First, brackets, <code>[ ]</code>, are used to subset in R. For example, if you wanted the 5th row and 3rd column returned from a data frame, you could do this by subsetting the data frame like so: <code>data[5,3]</code>. The first item within the bracket refers to the row number, and the second number refers to the column number. If you don’t put any numbers within the brackets, <code>data[,]</code>, then <em>everything</em> is selected (the entire data frame). Going back to the example above, you can see that the <code>data</code> is being subsetted by the rows. <code>complete.cases()</code> is a function similar to <code>na.omit()</code>, where the <code>NA</code> values are not included. Notice that there is an exclamation point, <code>!</code>, in front of the function. This means that instead of returning the cases that are complete, what’s being returned is the cases that are <em>not</em> complete from the data frame. So, we’re subsetting <code>data</code> by its rows, where the <em>incomplete</em> cases are returned, and all the columns are selected. If that was confusing, that’s okay! If there’s one thing to take away from this, it’s that you can use the brackets for subsetting.</p>
<blockquote>
<p>Note: You might have noticed that you can select a column in R like this <code>data$Col3</code>, and also like this <code>data[ ,3]</code>. There are almost always multiple ways to accomplish something in R, and both ways work equally well.</p>
</blockquote>
<p>Let’s try computing the mean for the first column of the <code>data</code> object which contains missing values:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="kw">mean</span>(data<span class="op">$</span>Col1)</a></code></pre></div>
<pre><code>[1] NA</code></pre>
<p>As you can see, <code>NA</code> is returned. This is because <code>Col1</code> contains missing values. Luckily the <code>mean()</code> function has an <code>na.rm</code> argument, which stands for ‘not available, remove’. We can set this argument to <code>TRUE</code>, so that missing values will be removed when computing the mean:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1"><span class="kw">mean</span>(data<span class="op">$</span>Col1, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>[1] 18.66667</code></pre>
<div id="mean-imputation" class="section level3 unnumbered">
<h3>Mean imputation</h3>
<p>Rather than omitting missing values from analysis with the <code>na.omit()</code> function, you could perform mean inputation.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">col1 =</span> <span class="kw">c</span>(<span class="fl">2.5</span>, <span class="fl">4.2</span>, <span class="fl">3.2</span>, <span class="ot">NA</span>))</a>
<a class="sourceLine" id="cb76-2" data-line-number="2">df<span class="op">$</span>col1[<span class="kw">is.na</span>(df<span class="op">$</span>col)] &lt;-<span class="st"> </span><span class="kw">mean</span>(df<span class="op">$</span>col, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb76-3" data-line-number="3">df</a></code></pre></div>
<pre><code>  col1
1  2.5
2  4.2
3  3.2
4  3.3</code></pre>
<p>In the code above, a data frame is created that has one column, and the fourth value is an <code>NA</code>. The <code>NA</code> is then replaced with the average of the other three numbers.</p>
<blockquote>
<p>We are not suggesting that you use mean imputation when your dataset contains missing values, but merely demonstrating how this can be done in R.</p>
</blockquote>
</div>
</div>
<div id="recoding-variables" class="section level2 unnumbered">
<h2>Recoding Variables</h2>
<p>One of the easiest ways to recode/fix factors in R is with the <code>factor()</code> function. We’ll use the <strong>SubID_Age_Sex.csv</strong> dataset that was used earlier:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">SubID_Age_Sex &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;SubID_Age_Sex.csv&quot;</span>)</a>
<a class="sourceLine" id="cb78-2" data-line-number="2"><span class="kw">head</span>(SubID_Age_Sex)</a></code></pre></div>
<pre><code>  subID      age sex
1     1 30.68838   F
2     2 28.33384   M
3     3 33.65584   M
4     4 35.51969   M
5     5 32.43415   M
6     6 28.14712   F</code></pre>
<p>For the <code>factor()</code> function, the first argument, <code>x</code>, is the column that should be selected, which in this case is <code>sex</code>. Again, we can use the dollar sign <code>$</code> to select a specific column from a dataset. The second argument, <code>levels</code>, is the levels that should be included, and the third argument, <code>labels</code>, is the labels that should be assigned to each level, respectively.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1">SubID_Age_Sex<span class="op">$</span>sex &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="dt">x =</span> SubID_Age_Sex<span class="op">$</span>sex, </a>
<a class="sourceLine" id="cb80-2" data-line-number="2">                            <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>), </a>
<a class="sourceLine" id="cb80-3" data-line-number="3">                            <span class="dt">labels =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb80-4" data-line-number="4"><span class="kw">head</span>(SubID_Age_Sex)</a></code></pre></div>
<pre><code>  subID      age sex
1     1 30.68838   1
2     2 28.33384   0
3     3 33.65584   0
4     4 35.51969   0
5     5 32.43415   0
6     6 28.14712   1</code></pre>
<p>Let’s take a look at a recoding example that’s slighly more involved. We’ll use the <strong>data_VO2.csv</strong> dataset used earlier.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1">data_VO2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data_VO2_long.csv&quot;</span>)</a>
<a class="sourceLine" id="cb82-2" data-line-number="2"><span class="kw">head</span>(data_VO2)</a></code></pre></div>
<pre><code>  SubID  Time  VO2_max
1     1 Time1 24.75065
2     1 Time2 35.03364
3     1 Time3 42.41792
4     1 Time4 46.61252
5     2 Time1 31.29356
6     2 Time2 29.43164</code></pre>
<p>And we’ll add a column of the subject’s sex:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1">data_VO2<span class="op">$</span>Sex &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;M&quot;</span>, <span class="dv">4</span>), <span class="kw">rep</span>(<span class="st">&quot;F&quot;</span>, <span class="dv">4</span>)), <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb84-2" data-line-number="2"><span class="kw">head</span>(data_VO2)</a></code></pre></div>
<pre><code>  SubID  Time  VO2_max Sex
1     1 Time1 24.75065   M
2     1 Time2 35.03364   M
3     1 Time3 42.41792   M
4     1 Time4 46.61252   M
5     2 Time1 31.29356   F
6     2 Time2 29.43164   F</code></pre>
<p>Rather than having VO2max as continuous data, we’ll change it to categorical data: <code>poor</code>, <code>fair</code>, <code>good</code>, <code>excellent</code>. The catch, however, is that the classification will partially depend on whether the subject was a male or female (it also depends on age, but we’ll assume everyone in the study was 30 years old).</p>
<p>The easiest way to do this is with the <code>ifelse()</code> function, and we’ll also use several functions from the tidyverse package. First, we need to filter the data so that only males or females are included in the dataset, but not both. We can do this with the <code>filter()</code> function from the tidyverse package. We’ll also need to create a new column to store the data in, and one easy way to do this is with the <code>mutate()</code> function from the tidyverse package.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1">data_VO2_F &lt;-<span class="st"> </span><span class="kw">filter</span>(data_VO2, Sex <span class="op">==</span><span class="st"> &quot;F&quot;</span>)</a>
<a class="sourceLine" id="cb86-2" data-line-number="2"></a>
<a class="sourceLine" id="cb86-3" data-line-number="3">data_VO2_F &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb86-4" data-line-number="4"><span class="kw">mutate</span>(data_VO2, <span class="dt">VO2_max_cat =</span> <span class="kw">ifelse</span>(VO2_max <span class="op">&lt;</span><span class="st"> </span><span class="fl">22.8</span>, <span class="st">&quot;Very Poor&quot;</span>,</a>
<a class="sourceLine" id="cb86-5" data-line-number="5">                              <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">22.8</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">26.9</span>, <span class="st">&quot;Poor&quot;</span>, </a>
<a class="sourceLine" id="cb86-6" data-line-number="6">                              <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">27.0</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">31.4</span>, <span class="st">&quot;Fair&quot;</span>,</a>
<a class="sourceLine" id="cb86-7" data-line-number="7">                              <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">31.5</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">35.6</span>, <span class="st">&quot;Good&quot;</span>,</a>
<a class="sourceLine" id="cb86-8" data-line-number="8">                              <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">35.7</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">40.0</span>, <span class="st">&quot;Excellent&quot;</span>,</a>
<a class="sourceLine" id="cb86-9" data-line-number="9">                                     <span class="st">&quot;Superior&quot;</span>))))))</a>
<a class="sourceLine" id="cb86-10" data-line-number="10"><span class="kw">head</span>(data_VO2_F)</a></code></pre></div>
<pre><code>  SubID  Time  VO2_max Sex VO2_max_cat
1     1 Time1 24.75065   M        Poor
2     1 Time2 35.03364   M        Good
3     1 Time3 42.41792   M    Superior
4     1 Time4 46.61252   M    Superior
5     2 Time1 31.29356   F        Fair
6     2 Time2 29.43164   F        Fair</code></pre>
<p>In the code above, the data was filtered to only include females. Notice that there are two equals signs <code>==</code> within the <code>filter()</code> function. If you only add one equals sign here you’ll get an error, and errors like this can be very difficult to find! After filtering, the data frame was assigned to the object <code>data_VO2_F</code>. Next, the <code>mutate()</code> function was used to create a new column called <code>VO2_max_cat</code> (cat for category). Then, the <code>ifelse()</code> function was used to assign a category based on the subject’s VO2_max. The first line reads, “If the VO2_max is less than 22.8, assign it the value”Very Poor“.” The last category, <code>Superior</code>, is assigned if the value does not meet any of the other conditions, which in this case is all values greater than 40.0.</p>
<p>Now we can repeat the same process for males:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1">data_VO2_M &lt;-<span class="st"> </span><span class="kw">filter</span>(data_VO2, Sex <span class="op">==</span><span class="st"> &quot;M&quot;</span>) </a>
<a class="sourceLine" id="cb88-2" data-line-number="2"></a>
<a class="sourceLine" id="cb88-3" data-line-number="3">data_VO2_M &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb88-4" data-line-number="4"><span class="kw">mutate</span>(data_VO2_M, <span class="dt">VO2_max_cat =</span> <span class="kw">ifelse</span>(VO2_max <span class="op">&lt;</span><span class="st"> </span><span class="fl">31.5</span>, <span class="st">&quot;Very Poor&quot;</span>,</a>
<a class="sourceLine" id="cb88-5" data-line-number="5">                             <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">31.5</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">35.4</span>, <span class="st">&quot;Poor&quot;</span>, </a>
<a class="sourceLine" id="cb88-6" data-line-number="6">                             <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">35.5</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">40.9</span>, <span class="st">&quot;Fair&quot;</span>,</a>
<a class="sourceLine" id="cb88-7" data-line-number="7">                             <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">41.0</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">44.9</span>, <span class="st">&quot;Good&quot;</span>,</a>
<a class="sourceLine" id="cb88-8" data-line-number="8">                             <span class="kw">ifelse</span>(VO2_max <span class="op">&gt;=</span><span class="st"> </span><span class="fl">45.0</span> <span class="op">&amp;</span><span class="st"> </span>VO2_max <span class="op">&lt;=</span><span class="st"> </span><span class="fl">49.4</span>, <span class="st">&quot;Excellent&quot;</span>,</a>
<a class="sourceLine" id="cb88-9" data-line-number="9">                                    <span class="st">&quot;Superior&quot;</span>))))))</a>
<a class="sourceLine" id="cb88-10" data-line-number="10"></a>
<a class="sourceLine" id="cb88-11" data-line-number="11"><span class="kw">head</span>(data_VO2_M)</a></code></pre></div>
<pre><code>  SubID  Time  VO2_max Sex VO2_max_cat
1     1 Time1 24.75065   M   Very Poor
2     1 Time2 35.03364   M        Poor
3     1 Time3 42.41792   M        Good
4     1 Time4 46.61252   M   Excellent
5     3 Time1 28.31473   M   Very Poor
6     3 Time2 32.42022   M        Poor</code></pre>
<p>If you wanted the data frames to be combined back into one data frame that included both males and females, you could use the <code>rbind()</code> function.</p>
<p>You might want to recode certain values as <code>NA</code> if you know the values are either impossible or very unrealistic. Here’s an example were <code>Age</code> data is collected, and values less than 0 or greater than 120 are recoded as <code>NA</code>. Notice the vertical bar in the code. The vertical bar (also called the pipe) means <code>or</code>. So the code below reads, “If <code>Age</code> is less than 0 or greater than 120, assign it the value <code>NA</code>.”</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Age =</span> <span class="kw">c</span>(<span class="dv">1546</span>, <span class="dv">43</span>, <span class="dv">23</span>, <span class="dv">56</span>, <span class="dv">-64</span>))</a>
<a class="sourceLine" id="cb90-2" data-line-number="2">df<span class="op">$</span>Age[df<span class="op">$</span>Age <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">|</span><span class="st"> </span>df<span class="op">$</span>Age <span class="op">&gt;</span><span class="st"> </span><span class="dv">120</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb90-3" data-line-number="3">df</a></code></pre></div>
<pre><code>  Age
1  NA
2  43
3  23
4  56
5  NA</code></pre>
</div>
<div id="changing-variable-types" class="section level2 unnumbered">
<h2>Changing Variable Types</h2>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1"><span class="kw">class</span>()</a>
<a class="sourceLine" id="cb92-2" data-line-number="2"><span class="kw">as.numeric</span>()</a>
<a class="sourceLine" id="cb92-3" data-line-number="3"><span class="kw">as.integer</span>()</a>
<a class="sourceLine" id="cb92-4" data-line-number="4"><span class="kw">as.character</span>()</a>
<a class="sourceLine" id="cb92-5" data-line-number="5"><span class="kw">as.factor</span>()</a></code></pre></div>
</div>
<div id="rename-columns" class="section level2 unnumbered">
<h2>Rename Columns</h2>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1"><span class="kw">colnames</span>()</a></code></pre></div>
</div>
<div id="change-column-order" class="section level2 unnumbered">
<h2>Change Column Order</h2>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1"><span class="co"># Reorder by column name</span></a>
<a class="sourceLine" id="cb94-2" data-line-number="2">data &lt;-<span class="st"> </span>data[<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)]</a>
<a class="sourceLine" id="cb94-3" data-line-number="3"></a>
<a class="sourceLine" id="cb94-4" data-line-number="4"><span class="co"># Reorder by column index</span></a>
<a class="sourceLine" id="cb94-5" data-line-number="5">df[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</a></code></pre></div>
</div>
<div id="data-transformation" class="section level2 unnumbered">
<h2>Data Transformation</h2>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1"><span class="kw">select</span>()</a>
<a class="sourceLine" id="cb95-2" data-line-number="2"><span class="kw">filter</span>()</a>
<a class="sourceLine" id="cb95-3" data-line-number="3"><span class="kw">mutate</span>()</a>
<a class="sourceLine" id="cb95-4" data-line-number="4"><span class="kw">arrange</span>()</a>
<a class="sourceLine" id="cb95-5" data-line-number="5"><span class="kw">group_by</span>()</a>
<a class="sourceLine" id="cb95-6" data-line-number="6"><span class="kw">summarise</span>()</a></code></pre></div>
</div>
<div id="dealing-with-dates" class="section level2 unnumbered">
<h2>Dealing with Dates</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reading-and-writing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="describing-and-visualizing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
